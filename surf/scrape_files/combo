YUI.add("srp-universal-header-uh3",function(a){a.Search.UniversalHeader={init:function(b){a.Get.script(b.js,{onSuccess:function(){a.once("ucs:helpMenuShow",function(){var e=new a.EventTarget();e.publish("ucs:helpMenuItems",{broadcast:2,emitFacade:true});var f=[],c=0;f[c]=[];for(var d=0;d<b.menu.length;d++){if(!b.menu[d].title){c++;f[c]=[]}else{f[c].push({menuText:b.menu[d].title,actionType:"link",url:b.menu[d].link,target:"_top"})}}e.fire("ucs:helpMenuItems",{menuGroups:f})})}})}}},"1.0.0",{requires:["node"]});/*
YUI 3.10.0 (build a03ce0e)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("substitute",function(e,t){var n=e.Lang,r="dump",i=" ",s="{",o="}",u=/(~-(\d+)-~)/g,a=/\{LBRACE\}/g,f=/\{RBRACE\}/g,l=function(t,l,c,h){var p,d,v,m,g,y,b=[],w,E,S=t.length;for(;;){p=t.lastIndexOf(s,S);if(p<0)break;d=t.indexOf(o,p);if(p+1>=d)break;w=t.substring(p+1,d),m=w,y=null,v=m.indexOf(i),v>-1&&(y=m.substring(v+1),m=m.substring(0,v)),g=l[m],c&&(g=c(m,g,y)),n.isObject(g)?e.dump?n.isArray(g)?g=e.dump(g,parseInt(y,10)):(y=y||"",E=y.indexOf(r),E>-1&&(y=y.substring(4)),g.toString===Object.prototype.toString||E>-1?g=e.dump(g,parseInt(y,10)):g=g.toString()):g=g.toString():n.isUndefined(g)&&(g="~-"+b.length+"-~",b.push(w)),t=t.substring(0,p)+g+t.substring(d+1),h||(S=p-1)}return t.replace(u,function(e,t,n){return s+b[parseInt(n,10)]+o}).replace(a,s).replace(f,o)};e.substitute=l,n.substitute=l},"3.10.0",{requires:["yui-base"],optional:["dump"]});
YUI.add("anim-base",function(b,p){var d="running",n="startTime",l="elapsedTime",j="start",i="tween",m="end",c="node",k="paused",o="reverse",h="iterationCount",a=Number;var f={},e;b.Anim=function(){b.Anim.superclass.constructor.apply(this,arguments);b.Anim._instances[b.stamp(this)]=this};b.Anim.NAME="anim";b.Anim._instances={};b.Anim.RE_DEFAULT_UNIT=/^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i;b.Anim.DEFAULT_UNIT="px";b.Anim.DEFAULT_EASING=function(r,q,u,s){return u*r/s+q};b.Anim._intervalTime=20;b.Anim.behaviors={left:{get:function(r,q){return r._getOffset(q)}}};b.Anim.behaviors.top=b.Anim.behaviors.left;b.Anim.DEFAULT_SETTER=function(u,v,x,y,A,t,w,z){var r=u._node,s=r._node,q=w(A,a(x),a(y)-a(x),t);if(s){if("style" in s&&(v in s.style||v in b.DOM.CUSTOM_STYLES)){z=z||"";r.setStyle(v,q+z)}else{if("attributes" in s&&v in s.attributes){r.setAttribute(v,q)}else{if(v in s){s[v]=q}}}}else{if(r.set){r.set(v,q)}else{if(v in r){r[v]=q}}}};b.Anim.DEFAULT_GETTER=function(t,q){var s=t._node,r=s._node,u="";if(r){if("style" in r&&(q in r.style||q in b.DOM.CUSTOM_STYLES)){u=s.getComputedStyle(q)}else{if("attributes" in r&&q in r.attributes){u=s.getAttribute(q)}else{if(q in r){u=r[q]}}}}else{if(s.get){u=s.get(q)}else{if(q in s){u=s[q]}}}return u};b.Anim.ATTRS={node:{setter:function(q){if(q){if(typeof q==="string"||q.nodeType){q=b.one(q)}}this._node=q;if(!q){}return q}},duration:{value:1},easing:{value:b.Anim.DEFAULT_EASING,setter:function(q){if(typeof q==="string"&&b.Easing){return b.Easing[q]}}},from:{},to:{},startTime:{value:0,readOnly:true},elapsedTime:{value:0,readOnly:true},running:{getter:function(){return !!f[b.stamp(this)]},value:false,readOnly:true},iterations:{value:1},iterationCount:{value:0,readOnly:true},direction:{value:"normal"},paused:{readOnly:true,value:false},reverse:{value:false}};b.Anim.run=function(){var r=b.Anim._instances,q;for(q in r){if(r[q].run){r[q].run()}}};b.Anim.pause=function(){for(var q in f){if(f[q].pause){f[q].pause()}}b.Anim._stopTimer()};b.Anim.stop=function(){for(var q in f){if(f[q].stop){f[q].stop()}}b.Anim._stopTimer()};b.Anim._startTimer=function(){if(!e){e=setInterval(b.Anim._runFrame,b.Anim._intervalTime)}};b.Anim._stopTimer=function(){clearInterval(e);e=0};b.Anim._runFrame=function(){var q=true,r;for(r in f){if(f[r]._runFrame){q=false;f[r]._runFrame()}}if(q){b.Anim._stopTimer()}};b.Anim.RE_UNITS=/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/;var g={run:function(){if(this.get(k)){this._resume()}else{if(!this.get(d)){this._start()}}return this},pause:function(){if(this.get(d)){this._pause()}return this},stop:function(q){if(this.get(d)||this.get(k)){this._end(q)}return this},_added:false,_start:function(){this._set(n,new Date()-this.get(l));this._actualFrames=0;if(!this.get(k)){this._initAnimAttr()}f[b.stamp(this)]=this;b.Anim._startTimer();this.fire(j)},_pause:function(){this._set(n,null);this._set(k,true);delete f[b.stamp(this)];this.fire("pause")},_resume:function(){this._set(k,false);f[b.stamp(this)]=this;this._set(n,new Date()-this.get(l));b.Anim._startTimer();this.fire("resume")},_end:function(q){var r=this.get("duration")*1000;if(q){this._runAttrs(r,r,this.get(o))}this._set(n,null);this._set(l,0);this._set(k,false);delete f[b.stamp(this)];this.fire(m,{elapsed:this.get(l)})},_runFrame:function(){var u=this._runtimeAttr.duration,s=new Date()-this.get(n),r=this.get(o),q=(s>=u);this._runAttrs(s,u,r);this._actualFrames+=1;this._set(l,s);this.fire(i);if(q){this._lastFrame()}},_runAttrs:function(B,A,x){var y=this._runtimeAttr,s=b.Anim.behaviors,z=y.easing,q=A,v=false,r,u,w;if(B>=A){v=true}if(x){B=A-B;q=0}for(w in y){if(y[w].to){r=y[w];u=(w in s&&"set" in s[w])?s[w].set:b.Anim.DEFAULT_SETTER;if(!v){u(this,w,r.from,r.to,B,A,z,r.unit)}else{u(this,w,r.from,r.to,q,A,z,r.unit)}}}},_lastFrame:function(){var q=this.get("iterations"),r=this.get(h);r+=1;if(q==="infinite"||r<q){if(this.get("direction")==="alternate"){this.set(o,!this.get(o))}this.fire("iteration")}else{r=0;this._end()}this._set(n,new Date());this._set(h,r)},_initAnimAttr:function(){var x=this.get("from")||{},w=this.get("to")||{},q={duration:this.get("duration")*1000,easing:this.get("easing")},s=b.Anim.behaviors,v=this.get(c),u,t,r;b.each(w,function(B,z){if(typeof B==="function"){B=B.call(this,v)}t=x[z];if(t===undefined){t=(z in s&&"get" in s[z])?s[z].get(this,z):b.Anim.DEFAULT_GETTER(this,z)}else{if(typeof t==="function"){t=t.call(this,v)}}var y=b.Anim.RE_UNITS.exec(t),A=b.Anim.RE_UNITS.exec(B);t=y?y[1]:t;r=A?A[1]:B;u=A?A[2]:y?y[2]:"";if(!u&&b.Anim.RE_DEFAULT_UNIT.test(z)){u=b.Anim.DEFAULT_UNIT}if(!t||!r){b.error('invalid "from" or "to" for "'+z+'"',"Anim");return}q[z]={from:b.Lang.isObject(t)?b.clone(t):t,to:r,unit:u}},this);this._runtimeAttr=q},_getOffset:function(r){var t=this._node,u=t.getComputedStyle(r),s=(r==="left")?"getX":"getY",v=(r==="left")?"setX":"setY",q;if(u==="auto"){q=t.getStyle("position");if(q==="absolute"||q==="fixed"){u=t[s]();t[v](u)}else{u=0}}return u},destructor:function(){delete b.Anim._instances[b.stamp(this)]}};b.extend(b.Anim,b.Base,g)},"3.8.1",{requires:["base-base","node-style"]});YUI.add("alert-popup",function(d){var j=d.namespace("Search.Alert.Popup"),f,b,h,c,a,e,i,g;a=function(){f=d.Node.create('<div id="alert-popup" style="opacity:0;z-index:3000;"></div>');d.one("body").append(f)};e=function(){b=new d.Anim({node:f,to:{opacity:1}});h=new d.Anim({node:f,to:{opacity:0}})};i=function(l){f.setStyle("left","");try{b.run()}catch(k){f.setStyle("opacity",1).show(true)}};g=function(l){if(c){c=null}try{h.once("end",function(){if(l){l()}});h.run()}catch(k){f.setStyle("opacity",0).hide(true);if(l){l()}}f.setStyle("left","-9999px")};j.show_msg=function(k,l){if(!f){a();e()}if(c){c.cancel();c=null;g()}f.set("innerHTML",k);i();c=d.later(3*1000,this,g,[l],false)}},"1.0.0",{requires:["anim-base"]});YUI.add("alert-unsigned-form",function(f){var r=f.namespace("Search.Alert.Unsigned.Form"),e=f.Search.ULT,l=f.Search.Alert.Popup,w,i={},k,g={},s,u,v,y,m,t,j,o,d,x,q,h,c,n,b=1,p="placeholder";u=function(E,B,D){var C=w.translations[B]||"",z=f.one(E+" > .err-msg"),A;if(C&&D){for(A in D){C=C.replace("{"+A+"}",D[A])}}if(C&&z){i[E]=i[E]||{};i[E][B]=C;z.set("innerHTML",C).show(true)}};v=function(D,B){var z=f.one(D+" > .err-msg"),C,A;i[D]=i[D]||{};if(i[D][B]){delete i[D][B]}if(z){for(A in i[D]){if(i[D][A]){C=i[D][A];break}}if(C){z.set("innerHTML",C).show(true)}else{z.hide(true).set("innerHTML","")}}};y=function(A,z){if(!A){l.show_msg(w.translations.ERROR_UNSIGNED_EMPTY_QUERY);return false}if(z&&z.hasClass(p)){l.show_msg(w.translations.ERROR_UNSIGNED_EMPTY_QUERY);return false}return true};m=function(A,z){if(A=="web"&&z=="1h"){u("#freq-div","ERROR_NOT_SUPPORT_WEB_1H")}else{v("#freq-div","ERROR_NOT_SUPPORT_WEB_1H")}};t=function(B,z){if(!B){l.show_msg(w.translations.ERROR_UNSIGNED_EMPTY_EMAIL);return false}if(z&&z.hasClass(p)){l.show_msg(w.translations.ERROR_UNSIGNED_EMPTY_EMAIL);return false}var A=B.indexOf("@"),C=B.lastIndexOf(".");if(A<1||C<A+2||C+2>=B.length){l.show_msg(w.translations.ERROR_UNSIGNED_BAD_EMAIL);return false}return true};x=function(D){D.preventDefault();var A=D.currentTarget,H=f.Lang.trim(A.one('input[name="qr"]').get("value"))||"",F=A.one('input[name="email"]').get("value")||"",G=A.one('select[name="freq"]').get("value")||"",I="all",B="t",E=new Date().getTime(),z=w.urls.js_url+"?action=create&o=js&.bcrumb="+w.bcrumb+"&email="+F+"&t="+E,J;var C={qr:H,pv:I,freq:G,uc:B};if(!y(H,A.one('input[name="qr"]'))){return}if(!t(F,A.one('input[name="email"]'))){return}for(J in C){z+="&"+J+"="+encodeURIComponent(C[J])}if(q&&q.isInProgress()){return}f.io.header("Cache-Control","no-cache");f.io.header("Pragma","no-cache");q=f.io(z,{on:{success:function(O,N,K){var M;try{M=f.JSON.parse(N.responseText)}catch(L){l.show_msg(w.translations.ERROR_SUBMIT_FAILED)}if(M&&M.status&&M.status==1){l.show_msg(w.translations.MSG_ALERT_SAVED,c)}else{l.show_msg(w.translations.ERROR_SUBMIT_FAILED_HINT)}},failure:function(){l.show_msg(w.translations.ERROR_SUBMIT_FAILED)}},timeout:20*1000})};function a(){if(o){return}var B="",A="",z="",D="",C="";if(w.query){B=w.query}if(f.UA.ie&&f.UA.ie<=9){if(!B){B=w.translations.MSG_ENTER_QUERY;D=p}A=w.translations.MSG_ENTER_EMAIL;z=p;if(f.UA.ie==8||f.UA.ie==9){C="&nbsp;&nbsp;"}}o=f.Node.create('<div class="alert-unsigned-box" style="opacity:0;"><div class="alert-unsigned-grey"></div><div class="alert-unsigned-form"><button id="close-unsigned-box" type="button" class="close-unsigned-x"><span class="sprite"></span></button><h1>Get the latest updates sent to your inbox</h1><div class="alert-form-body"><form action="/alert" method="post" id="auf"><table><tbody><tr class="dataRow"><td class="keyword"><input class="'+D+'" type="text" name="qr" value="'+B+'" placeholder="'+w.translations.MSG_ENTER_QUERY+'"></td></tr><tr class="dataRow"><td class="email"><input class="'+z+'" type="text" name="email" value="'+A+'" placeholder="'+w.translations.MSG_ENTER_EMAIL+'"></td></tr><tr class="dataRow"><td class="frequency"><div class="slct-bg"><span class="slct-arrow alrt-sprt"></span><select class="freq" name="freq"><option value="1h">'+C+'As it happens</option><option value="1d" selected="">'+C+'Daily</option></div></select></td></tr></tbody></table><div class="submit-row"><input class="bttn subscribe" type="submit" value="Subscribe"></div></form></div></div></div>');f.one("body").append(o);f.on("click",c,"#close-unsigned-box");f.on("submit",x,"#auf");if(f.UA.ie&&f.UA.ie<=9){f.on(["focus","blur"],function(G){var E=G.currentTarget;var F=E.get("value"),H=E.getAttribute("placeholder");if(G.type=="focus"&&F==H){E.set("value","");E.removeClass(p)}else{if(G.type=="blur"&&!F){E.set("value",H);E.addClass(p)}}},'input[name="qr"],input[name="email"]')}}h=function(D){if(!o){a()}if(D){D.preventDefault()}var z=document.documentElement.scrollHeight||document.body.scrollHeight,A=document.documentElement.scrollTop||document.body.scrollTop,B=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var C=(B>400)?(B-400)/2:20;o.setStyle("height",z+500);o.one(".alert-unsigned-form").setStyle("top",A+C);o.setStyle("display","block");if(f.UA.ie&&f.UA.ie<=8){o.setStyle("opacity","1")}else{n(o,true)}};c=function(z){if(!o){a()}if(z){z.preventDefault()}if(f.UA.ie&&f.UA.ie<=8){o.setStyle("opacity","0");o.setStyle("display","none")}else{n(o,false)}};n=function(A,B){var z;if(B){z=new f.Anim({node:A,from:{opacity:0},to:{opacity:1},duration:b});z.on("destroy",function(){if(f.UA.ie){A.setStyle("opacity",1)}else{A.setStyle("opacity","")}})}else{z=new f.Anim({node:A,from:{opacity:1},to:{opacity:0},duration:b});z.on("end",function(){A.setStyle("display","none")})}z.run()};r.init=function(z){w=z;w.ult_params={sec:w.action=="create"?"alrtNew":"alrtEdit"};if(w.node){f.on("click",h,w.node)}else{f.on("click",h,"#alert a.manage")}}},"1.0.0",{requires:["node","event","anim-base","io-base","json-parse","ult-linktrack","alert-popup"]});YUI.add("event-to-load",function(b){var a=b.namespace("Search.EventTL");b.mix(a,{id:"",timeout:1000,eventType:"click",url:"",href:"",_loaded:false,init:function(c){if(!c.url||!c.id){return}this.id="#"+c.id;this.url=c.url;if(typeof c.timeout!=="undefined"||c.timeout){this.timeout=c.timeout}if(typeof c.eventType!=="undefined"||c.eventType){this.eventType=c.eventType}if(typeof c.href!=="undefined"||c.href){this.href=c.href}b.on(this.eventType,b.bind(this.loadScript,this),this.id)},loadScript:function(c){if(!this._loaded){c.preventDefault();this._loadScript()}else{this._sendTrackBeacon()}},_loadScript:function(){b.Get.script(this.url,{onSuccess:function(d){b.Search.EventTL._loaded=true;var c=b.one(b.Search.EventTL.id);c.simulate(b.Search.EventTL.eventType)},timeout:this.timeout,onTimeout:function(c){b.Get.abort(c);b.config.win.location.href=b.Search.EventTL.href}})},_sendTrackBeacon:function(){b.Search.SRP.beacon(b.Search.EventTL.href)}})},"1.0.0",{requires:["get","event","node"]});YUI.add("ymuid-beacon-module",function(a){var b=a.namespace("Search.YMuid");a.mix(b,{beaconUrl:"",init:function(c){this.beaconUrl=c;if(this.beaconUrl!=""){this._sendBeacon(this.beaconUrl)}},_sendBeacon:function(c){a.Search.SRP.beacon(c)}})},"1.0.0",{requires:[]});/*
YUI 3.10.0 (build a03ce0e)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-base",function(e,t){function R(e){var t=this,n,r,i=t.constructor;t._strs={},t._cssPrefix=i.CSS_PREFIX||s(i.NAME.toLowerCase()),e=e||{},R.superclass.constructor.call(t,e),r=t.get(T),r&&(r!==P&&(n=r),t.render(n))}var n=e.Lang,r=e.Node,i=e.ClassNameManager,s=i.getClassName,o,u=e.cached(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}),a="content",f="visible",l="hidden",c="disabled",h="focused",p="width",d="height",v="boundingBox",m="contentBox",g="parentNode",y="ownerDocument",b="auto",w="srcNode",E="body",S="tabIndex",x="id",T="render",N="rendered",C="destroyed",k="strings",L="<div></div>",A="Change",O="loading",M="_uiSet",_="",D=function(){},P=!0,H=!1,B,j={},F=[f,c,d,p,h,S],I=e.UA.webkit,q={};R.NAME="widget",B=R.UI_SRC="ui",R.ATTRS=j,j[x]={valueFn:"_guid",writeOnce:P},j[N]={value:H,readOnly:P},j[v]={value:null,setter:"_setBB",writeOnce:P},j[m]={valueFn:"_defaultCB",setter:"_setCB",writeOnce:P},j[S]={value:null,validator:"_validTabIndex"},j[h]={value:H,readOnly:P},j[c]={value:H},j[f]={value:P},j[d]={value:_},j[p]={value:_},j[k]={value:{},setter:"_strSetter",getter:"_strGetter"},j[T]={value:H,writeOnce:P},R.CSS_PREFIX=s(R.NAME.toLowerCase()),R.getClassName=function(){return s.apply(i,[R.CSS_PREFIX].concat(e.Array(arguments),!0))},o=R.getClassName,R.getByNode=function(t){var n,i=o();return t=r.one(t),t&&(t=t.ancestor("."+i,!0),t&&(n=q[e.stamp(t,!0)])),n||null},e.extend(R,e.Base,{getClassName:function(){return s.apply(i,[this._cssPrefix].concat(e.Array(arguments),!0))},initializer:function(t){var n=this.get(v);n instanceof r&&this._mapInstance(e.stamp(n)),this._applyParser&&this._applyParser(t)},_mapInstance:function(e){q[e]=this},destructor:function(){var t=this.get(v),n;t instanceof r&&(n=e.stamp(t,!0),n in q&&delete q[n],this._destroyBox())},destroy:function(e){return this._destroyAllNodes=e,R.superclass.destroy.apply(this)},_destroyBox:function(){var e=this.get(v),t=this.get(m),n=this._destroyAllNodes,r;r=e&&e.compareTo(t),this.UI_EVENTS&&this._destroyUIEvents(),this._unbindUI(e),n?(e.empty(),e.remove(P)):(t&&t.remove(P),r||e.remove(P))},render:function(e){return!this.get(C)&&!this.get(N)&&(this.publish(T,{queuable:H,fireOnce:P,defaultTargetOnly:P,defaultFn:this._defRenderFn}),this.fire(T,{parentNode:e?r.one(e):null})),this},_defRenderFn:function(e){this._parentNode=e.parentNode,this.renderer(),this._set(N,P),this._removeLoadingClassNames()},renderer:function(){var e=this;e._renderUI(),e.renderUI(),e._bindUI(),e.bindUI(),e._syncUI(),e.syncUI()},bindUI:D,renderUI:D,syncUI:D,hide:function(){return this.set(f,H)},show:function(){return this.set(f,P)},focus:function(){return this._set(h,P)},blur:function(){return this._set(h,H)},enable:function(){return this.set(c,H)},disable:function(){return this.set(c,P)},_uiSizeCB:function(e){this.get(m).toggleClass(o(a,"expanded"),e)},_renderBox:function(e){var t=this,n=t.get(m),i=t.get(v),s=t.get(w),o=t.DEF_PARENT_NODE,u=s&&s.get(y)||i.get(y)||n.get(y);s&&!s.compareTo(n)&&!n.inDoc(u)&&s.replace(n),!i.compareTo(n.get(g))&&!i.compareTo(n)&&(n.inDoc(u)&&n.replace(i),i.appendChild(n)),e=e||o&&r.one(o),e?e.appendChild(i):i.inDoc(u)||r.one(E).insert(i,0)},_setBB:function(e){return this._setBox(this.get(x),e,this.BOUNDING_TEMPLATE,!0)},_setCB:function(e){return this.CONTENT_TEMPLATE===null?this.get(v):this._setBox(null,e,this.CONTENT_TEMPLATE,!1)},_defaultCB:function(e){return this.get(w)||null},_setBox:function(t,n,i,s){return n=r.one(n),n||(n=r.create(i),s?this._bbFromTemplate=!0:this._cbFromTemplate=!0),n.get(x)||n.set(x,t||e.guid()),n},_renderUI:function(){this._renderBoxClassNames(),this._renderBox(this._parentNode)},_renderBoxClassNames:function(){var e=this._getClasses(),t,n=this.get(v),r;n.addClass(o());for(r=e.length-3;r>=0;r--)t=e[r],n.addClass(t.CSS_PREFIX||s(t.NAME.toLowerCase()));this.get(m).addClass(this.getClassName(a))},_removeLoadingClassNames:function(){var e=this.get(v),t=this.get(m),n=this.getClassName(O),r=o(O);e.removeClass(r).removeClass(n),t.removeClass(r).removeClass(n)},_bindUI:function(){this._bindAttrUI(this._UI_ATTRS.BIND),this._bindDOM()},_unbindUI:function(e){this._unbindDOM(e)},_bindDOM:function(){var t=this.get(v).get(y),n=R._hDocFocus;n||(n=R._hDocFocus=t.on("focus",this._onDocFocus,this),n.listeners={count:0}),n.listeners[e.stamp(this,!0)]=!0,n.listeners.count++,I&&(this._hDocMouseDown=t.on("mousedown",this._onDocMouseDown,this))},_unbindDOM:function(t){var n=R._hDocFocus,r=e.stamp(this,!0),i,s=this._hDocMouseDown;n&&(i=n.listeners,i[r]&&(delete i[r],i.count--),i.count===0&&(n.detach(),R._hDocFocus=null)),I&&s&&s.detach()},_syncUI:function(){this._syncAttrUI(this._UI_ATTRS.SYNC)},_uiSetHeight:function(e){this._uiSetDim(d,e),this._uiSizeCB(e!==_&&e!==b)},_uiSetWidth:function(e){this._uiSetDim(p,e)},_uiSetDim:function(e,t){this.get(v).setStyle(e,n.isNumber(t)?t+this.DEF_UNIT:t)},_uiSetVisible:function(e){this.get(v).toggleClass(this.getClassName(l),!e)},_uiSetDisabled:function(e){this.get(v).toggleClass(this.getClassName(c),e)},_uiSetFocused:function(e,t){var n=this.get(v);n.toggleClass(this.getClassName(h),e),t!==B&&(e?n.focus():n.blur())},_uiSetTabIndex:function(e){var t=this.get(v);n.isNumber(e)?t.set(S,e):t.removeAttribute(S)},_onDocMouseDown:function(e){this._domFocus&&this._onDocFocus(e)},_onDocFocus:function(e){var t=R.getByNode(e.target),n=R._active;n&&n!==t&&(n._domFocus=!1,n._set(h,!1,{src:B}),R._active=null),t&&(t._domFocus=!0,t._set(h,!0,{src:B}),R._active=t)},toString:function(){return this.name+"["+this.get(x)+"]"},DEF_UNIT:"px",DEF_PARENT_NODE:null,CONTENT_TEMPLATE:L,BOUNDING_TEMPLATE:L,_guid:function(){return e.guid()},_validTabIndex:function(e){return n.isNumber(e)||n.isNull(e)},_bindAttrUI:function(e){var t,n=e.length;for(t=0;t<n;t++)this.after(e[t]+A,this._setAttrUI)},_syncAttrUI:function(e){var t,n=e.length,r;for(t=0;t<n;t++)r=e[t],this[M+u(r)](this.get(r))},_setAttrUI:function(e){e.target===this&&this[M+u(e.attrName)](e.newVal,e.src)},_strSetter:function(t){return e.merge(this
.get(k),t)},getString:function(e){return this.get(k)[e]},getStrings:function(){return this.get(k)},_UI_ATTRS:{BIND:F,SYNC:F}}),e.Widget=R},"3.10.0",{requires:["attribute","base-base","base-pluginhost","classnamemanager","event-focus","node-base","node-style"],skinnable:!0});
/*
YUI 3.10.0 (build a03ce0e)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("jsonp-url",function(e,t){var n=e.JSONPRequest,r=e.Object.getValue,i=function(){};e.mix(n.prototype,{_pattern:/\bcallback=(.*?)(?=&|$)/i,_template:"callback={callback}",_defaultCallback:function(t){var n=t.match(this._pattern),s=[],o=0,u,a,f;if(n){u=n[1].replace(/\[(['"])(.*?)\1\]/g,function(e,t,n){return s[o]=n,".@"+o++}).replace(/\[(\d+)\]/g,function(e,t){return s[o]=parseInt(t,10)|0,".@"+o++}).replace(/^\./,"");if(!/[^\w\.\$@]/.test(u)){a=u.split(".");for(o=a.length-1;o>=0;--o)a[o].charAt(0)==="@"&&(a[o]=s[parseInt(a[o].substr(1),10)]);f=r(e.config.win,a)||r(e,a)||r(e,a.slice(1))}}return f||i},_format:function(e,t){var n=this._template.replace(/\{callback\}/,t),r;return this._pattern.test(e)?e.replace(this._pattern,n):(r=e.slice(-1),r!=="&"&&r!=="?"&&(e+=e.indexOf("?")>-1?"&":"?"),e+n)}},!0)},"3.10.0",{requires:["jsonp"]});
/*
YUI 3.10.0 (build a03ce0e)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("transition",function(e,t){var n="",r="",i=e.config.doc,s="documentElement",o=i[s].style,u="transition",a="transitionProperty",f,l,c,h,p,d,v={},m=["Webkit","Moz"],g={Webkit:"webkitTransitionEnd"},y=function(){this.init.apply(this,arguments)};y._TRANSFORM="transform",y._toCamel=function(e){return e=e.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}),e},y._toHyphen=function(e){return e=e.replace(/([A-Z]?)([a-z]+)([A-Z]?)/g,function(e,t,n,r){var i=(t?"-"+t.toLowerCase():"")+n;return r&&(i+="-"+r.toLowerCase()),i}),e},y.SHOW_TRANSITION="fadeIn",y.HIDE_TRANSITION="fadeOut",y.useNative=!1,"transition"in o&&"transitionProperty"in o&&"transitionDuration"in o&&"transitionTimingFunction"in o&&"transitionDelay"in o?(y.useNative=!0,y.supported=!0):e.Array.each(m,function(e){var t=e+"Transition";t in i[s].style&&(n=e,r=y._toHyphen(e)+"-",y.useNative=!0,y.supported=!0,y._VENDOR_PREFIX=e)}),typeof o.transform=="undefined"&&e.Array.each(m,function(e){var t=e+"Transform";typeof o[t]!="undefined"&&(y._TRANSFORM=t)}),n&&(u=n+"Transition",a=n+"TransitionProperty"),f=r+"transition-property",l=r+"transition-duration",c=r+"transition-timing-function",h=r+"transition-delay",p="transitionend",d="on"+n.toLowerCase()+"transitionend",p=g[n]||p,y.fx={},y.toggles={},y._hasEnd={},y._reKeywords=/^(?:node|duration|iterations|easing|delay|on|onstart|onend)$/i,e.Node.DOM_EVENTS[p]=1,y.NAME="transition",y.DEFAULT_EASING="ease",y.DEFAULT_DURATION=.5,y.DEFAULT_DELAY=0,y._nodeAttrs={},y.prototype={constructor:y,init:function(e,t){var n=this;return n._node=e,!n._running&&t&&(n._config=t,e._transition=n,n._duration="duration"in t?t.duration:n.constructor.DEFAULT_DURATION,n._delay="delay"in t?t.delay:n.constructor.DEFAULT_DELAY,n._easing=t.easing||n.constructor.DEFAULT_EASING,n._count=0,n._running=!1),n},addProperty:function(t,n){var r=this,i=this._node,s=e.stamp(i),o=e.one(i),u=y._nodeAttrs[s],a,f,l,c,h;u||(u=y._nodeAttrs[s]={}),c=u[t],n&&n.value!==undefined?h=n.value:n!==undefined&&(h=n,n=v),typeof h=="function"&&(h=h.call(o,o)),c&&c.transition&&c.transition!==r&&c.transition._count--,r._count++,l=(typeof n.duration!="undefined"?n.duration:r._duration)||1e-4,u[t]={value:h,duration:l,delay:typeof n.delay!="undefined"?n.delay:r._delay,easing:n.easing||r._easing,transition:r},a=e.DOM.getComputedStyle(i,t),f=typeof h=="string"?a:parseFloat(a),y.useNative&&f===h&&setTimeout(function(){r._onNativeEnd.call(i,{propertyName:t,elapsedTime:l})},l*1e3)},removeProperty:function(t){var n=this,r=y._nodeAttrs[e.stamp(n._node)];r&&r[t]&&(delete r[t],n._count--)},initAttrs:function(t){var n,r=this._node;t.transform&&!t[y._TRANSFORM]&&(t[y._TRANSFORM]=t.transform,delete t.transform);for(n in t)t.hasOwnProperty(n)&&!y._reKeywords.test(n)&&(this.addProperty(n,t[n]),r.style[n]===""&&e.DOM.setStyle(r,n,e.DOM.getComputedStyle(r,n)))},run:function(t){var n=this,r=n._node,i=n._config,s={type:"transition:start",config:i};return n._running||(n._running=!0,i.on&&i.on.start&&i.on.start.call(e.one(r),s),n.initAttrs(n._config),n._callback=t,n._start()),n},_start:function(){this._runNative()},_prepDur:function(e){return e=parseFloat(e)*1e3,e+"ms"},_runNative:function(){var t=this,n=t._node,r=e.stamp(n),i=n.style,s=n.ownerDocument.defaultView.getComputedStyle(n),o=y._nodeAttrs[r],u="",a=s[y._toCamel(f)],d=f+": ",v=l+": ",m=c+": ",g=h+": ",b,w,E;a!=="all"&&(d+=a+",",v+=s[y._toCamel(l)]+",",m+=s[y._toCamel(c)]+",",g+=s[y._toCamel(h)]+",");for(E in o)b=y._toHyphen(E),w=o[E],(w=o[E])&&w.transition===t&&(E in n.style?(v+=t._prepDur(w.duration)+",",g+=t._prepDur(w.delay)+",",m+=w.easing+",",d+=b+",",u+=b+": "+w.value+"; "):this.removeProperty(E));d=d.replace(/,$/,";"),v=v.replace(/,$/,";"),m=m.replace(/,$/,";"),g=g.replace(/,$/,";"),y._hasEnd[r]||(n.addEventListener(p,t._onNativeEnd,""),y._hasEnd[r]=!0),i.cssText+=d+v+m+g+u},_end:function(t){var n=this,r=n._node,i=n._callback,s=n._config,o={type:"transition:end",config:s,elapsedTime:t},u=e.one(r);n._running=!1,n._callback=null,r&&(s.on&&s.on.end?setTimeout(function(){s.on.end.call(u,o),i&&i.call(u,o)},1):i&&setTimeout(function(){i.call(u,o)},1))},_endNative:function(e){var t=this._node,n=t.ownerDocument.defaultView.getComputedStyle(t,"")[y._toCamel(f)];e=y._toHyphen(e),typeof n=="string"&&(n=n.replace(new RegExp("(?:^|,\\s)"+e+",?"),","),n=n.replace(/^,|,$/,""),t.style[u]=n)},_onNativeEnd:function(t){var n=this,r=e.stamp(n),i=t,s=y._toCamel(i.propertyName),o=i.elapsedTime,u=y._nodeAttrs[r],f=u[s],l=f?f.transition:null,c,h;l&&(l.removeProperty(s),l._endNative(s),h=l._config[s],c={type:"propertyEnd",propertyName:s,elapsedTime:o,config:h},h&&h.on&&h.on.end&&h.on.end.call(e.one(n),c),l._count<=0&&(l._end(o),n.style[a]=""))},destroy:function(){var e=this,t=e._node;t&&(t.removeEventListener(p,e._onNativeEnd,!1),e._node=null)}},e.Transition=y,e.TransitionNative=y,e.Node.prototype.transition=function(t,n,r){var i=y._nodeAttrs[e.stamp(this._node)],s=i?i.transition||null:null,o,u;if(typeof t=="string"){typeof n=="function"&&(r=n,n=null),o=y.fx[t];if(n&&typeof n!="boolean"){n=e.clone(n);for(u in o)o.hasOwnProperty(u)&&(u in n||(n[u]=o[u]))}else n=o}else r=n,n=t;return s&&!s._running?s.init(this,n):s=new y(this._node,n),s.run(r),this},e.Node.prototype.show=function(t,n,r){return this._show(),t&&e.Transition&&(typeof t!="string"&&!t.push&&(typeof n=="function"&&(r=n,n=t),t=y.SHOW_TRANSITION),this.transition(t,n,r)),this},e.NodeList.prototype.show=function(t,n,r){var i=this._nodes,s=0,o;while(o=i[s++])e.one(o).show(t,n,r);return this};var b=function(e,t,n){return function(){t&&t.call(e),n&&typeof n=="function"&&n.apply(e._node,arguments)}};e.Node.prototype.hide=function(t,n,r){return t&&e.Transition?(typeof n=="function"&&(r=n,n=null),r=b(this,this._hide,r),typeof t!="string"&&!t.push&&(typeof n=="function"&&(r=n,n=t),t=y.HIDE_TRANSITION),this.transition(t,n,r)):this._hide(),this},e.NodeList.prototype.hide=function(t,n,r){var i=this._nodes,s=0,o;while(o=i[s++])e.one(o).hide(t,n,r);return this},e.NodeList.prototype
.transition=function(t,n){var r=this._nodes,i=0,s;while(s=r[i++])e.one(s).transition(t,n);return this},e.Node.prototype.toggleView=function(t,n,r){this._toggles=this._toggles||[],r=arguments[arguments.length-1];if(typeof t!="string"){n=t,this._toggleView(n,r);return}return typeof n=="function"&&(n=undefined),typeof n=="undefined"&&t in this._toggles&&(n=!this._toggles[t]),n=n?1:0,n?this._show():r=b(this,this._hide,r),this._toggles[t]=n,this.transition(e.Transition.toggles[t][n],r),this},e.NodeList.prototype.toggleView=function(t,n,r){var i=this._nodes,s=0,o;while(o=i[s++])o=e.one(o),o.toggleView.apply(o,arguments);return this},e.mix(y.fx,{fadeOut:{opacity:0,duration:.5,easing:"ease-out"},fadeIn:{opacity:1,duration:.5,easing:"ease-in"},sizeOut:{height:0,width:0,duration:.75,easing:"ease-out"},sizeIn:{height:function(e){return e.get("scrollHeight")+"px"},width:function(e){return e.get("scrollWidth")+"px"},duration:.5,easing:"ease-in",on:{start:function(){var e=this.getStyle("overflow");e!=="hidden"&&(this.setStyle("overflow","hidden"),this._transitionOverflow=e)},end:function(){this._transitionOverflow&&(this.setStyle("overflow",this._transitionOverflow),delete this._transitionOverflow)}}}}),e.mix(y.toggles,{size:["sizeOut","sizeIn"],fade:["fadeOut","fadeIn"]})},"3.10.0",{requires:["node-style"]});
/*
YUI 3.10.0 (build a03ce0e)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("template-micro",function(e,t){var n=e.namespace("Template.Micro");n.options={code:/<%([\s\S]+?)%>/g,escapedOutput:/<%=([\s\S]+?)%>/g,rawOutput:/<%==([\s\S]+?)%>/g,stringEscape:/\\|'|\r|\n|\t|\u2028|\u2029/g,stringReplace:{"\\":"\\\\","'":"\\'","\r":"\\r","\n":"\\n","	":"\\t","\u2028":"\\u2028","\u2029":"\\u2029"}},n.compile=function(t,r){var i=[],s="\uffff",o="\ufffe",u;return r=e.merge(n.options,r),u="var $b='', $v=function (v){return v || v === 0 ? v : $b;}, $t='"+t.replace(/\ufffe|\uffff/g,"").replace(r.rawOutput,function(e,t){return o+(i.push("'+\n$v("+t+")+\n'")-1)+s}).replace(r.escapedOutput,function(e,t){return o+(i.push("'+\n$e($v("+t+"))+\n'")-1)+s}).replace(r.code,function(e,t){return o+(i.push("';\n"+t+"\n$t+='")-1)+s}).replace(r.stringEscape,function(e){return r.stringReplace[e]||""}).replace(/\ufffe(\d+)\uffff/g,function(e,t){return i[parseInt(t,10)]}).replace(/\n\$t\+='';\n/g,"\n")+"';\nreturn $t;",r.precompile?"function (Y, $e, data) {\n"+u+"\n}":this.revive(new Function("Y","$e","data",u))},n.precompile=function(e,t){return t||(t={}),t.precompile=!0,this.compile(e,t)},n.render=function(e,t,n){return this.compile(e,n)(t)},n.revive=function(t){return function(n){return n||(n={}),t.call(n,e,e.Escape.html,n)}}},"3.10.0",{requires:["escape"]});
/*
YUI 3.10.0 (build a03ce0e)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("stylesheet",function(e,t){function v(t,r){var o,a,f,l={},h,p,m,g,y,b;if(!e.instanceOf(this,v))return new v(t,r);if(t){if(e.Node&&t instanceof e.Node)a=t._node;else if(t.nodeName)a=t;else if(s(t)){if(t&&u[t])return u[t];a=n.getElementById(t.replace(/^#/,d))}if(a&&u[e.stamp(a)])return u[e.stamp(a)]}if(!a||!/^(?:style|link)$/i.test(a.nodeName))a=n.createElement("style"),a.type="text/css";s(t)&&(t.indexOf("{")!=-1?a.styleSheet?a.styleSheet.cssText=t:a.appendChild(n.createTextNode(t)):r||(r=t));if(!a.parentNode||a.parentNode.nodeName.toLowerCase()!=="head")o=(a.ownerDocument||n).getElementsByTagName("head")[0],o.appendChild(a);f=a.sheet||a.styleSheet,h=f&&"cssRules"in f?"cssRules":"rules",m="deleteRule"in f?function(e){f.deleteRule(e)}:function(e){f.removeRule(e)},p="insertRule"in f?function(e,t,n){f.insertRule(e+" {"+t+"}",n)}:function(e,t,n){f.addRule(e,t,n)};for(g=f[h].length-1;g>=0;--g)y=f[h][g],b=y.selectorText,l[b]?(l[b].style.cssText+=";"+y.style.cssText,m(g)):l[b]=y;v.register(e.stamp(a),this),r&&v.register(r,this),e.mix(this,{getId:function(){return e.stamp(a)},enable:function(){return f.disabled=!1,this},disable:function(){return f.disabled=!0,this},isEnabled:function(){return!f.disabled},set:function(e,t){var n=l[e],r=e.split(/\s*,\s*/),i,s;if(r.length>1){for(i=r.length-1;i>=0;--i)this.set(r[i],t);return this}return v.isValidSelector(e)?(n?n.style.cssText=v.toCssText(t,n.style.cssText):(s=f[h].length,t=v.toCssText(t),t&&(p(e,t,s),l[e]=f[h][s])),this):this},unset:function(t,n){var r=l[t],s=t.split(/\s*,\s*/),o=!n,u,a;if(s.length>1){for(a=s.length-1;a>=0;--a)this.unset(s[a],n);return this}if(r){if(!o){n=e.Array(n),i.cssText=r.style.cssText;for(a=n.length-1;a>=0;--a)c(i,n[a]);i.cssText?r.style.cssText=i.cssText:o=!0}if(o){u=f[h];for(a=u.length-1;a>=0;--a)if(u[a]===r){delete l[t],m(a);break}}}return this},getCssText:function(e){var t,n,r;if(s(e))return t=l[e.split(/\s*,\s*/)[0]],t?t.style.cssText:null;n=[];for(r in l)l.hasOwnProperty(r)&&(t=l[r],n.push(t.selectorText+" {"+t.style.cssText+"}"));return n.join("\n")}})}var n=e.config.doc,r=n.createElement("p"),i=r.style,s=e.Lang.isString,o={},u={},a="cssFloat"in i?"cssFloat":"styleFloat",f,l,c,h="opacity",p="float",d="";l=h in i?function(e){e.opacity=d}:function(e){e.filter=d},i.border="1px solid red",i.border=d,c=i.borderLeft?function(e,t){var n;t!==a&&t.toLowerCase().indexOf(p)!=-1&&(t=a);if(s(e[t]))switch(t){case h:case"filter":l(e);break;case"font":e.font=e.fontStyle=e.fontVariant=e.fontWeight=e.fontSize=e.lineHeight=e.fontFamily=d;break;default:for(n in e)n.indexOf(t)===0&&(e[n]=d)}}:function(e,t){t!==a&&t.toLowerCase().indexOf(p)!=-1&&(t=a),s(e[t])&&(t===h?l(e):e[t]=d)},f=function(t,s){var o=t.styleFloat||t.cssFloat||t[p],u=e.Lang.trim,f;try{i.cssText=s||d}catch(l){r=n.createElement("p"),i=r.style,i.cssText=s||d}o&&!t[a]&&(t=e.merge(t),delete t.styleFloat,delete t.cssFloat,delete t[p],t[a]=o);for(f in t)if(t.hasOwnProperty(f))try{i[f]=u(t[f])}catch(c){}return i.cssText},e.mix(v,{toCssText:h in i?f:function(t,n){return h in t&&(t=e.merge(t,{filter:"alpha(opacity="+t.opacity*100+")"}),delete t.opacity),f(t,n)},register:function(e,t){return!!(e&&t instanceof v&&!u[e]&&(u[e]=t))},isValidSelector:function(e){var t=!1;return e&&s(e)&&(o.hasOwnProperty(e)||(o[e]=!/\S/.test(e.replace(/\s+|\s*[+~>]\s*/g," ").replace(/([^ ])\[.*?\]/g,"$1").replace(/([^ ])::?[a-z][a-z\-]+[a-z](?:\(.*?\))?/ig,"$1").replace(/(?:^| )[a-z0-6]+/ig," ").replace(/\\./g,d).replace(/[.#]\w[\w\-]*/g,d))),t=o[e]),t}},!0),e.StyleSheet=v},"3.10.0",{requires:["yui-base"]});
/*
YUI 3.10.0 (build a03ce0e)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("model",function(e,t){function l(){l.superclass.constructor.apply(this,arguments)}var n=YUI.namespace("Env.Model"),r=e.Lang,i=e.Array,s=e.Object,o="change",u="error",a="load",f="save";e.Model=e.extend(l,e.Base,{idAttribute:"id",_allowAdHocAttrs:!0,_isYUIModel:!0,initializer:function(e){this.changed={},this.lastChange={},this.lists=[]},destroy:function(e,t){var n=this;return typeof e=="function"&&(t=e,e=null),n.onceAfter("destroy",function(){function r(r){r||i.each(n.lists.concat(),function(t){t.remove(n,e)}),t&&t.apply(null,arguments)}e&&(e.remove||e["delete"])?n.sync("delete",e,r):r()}),l.superclass.destroy.call(n)},generateClientId:function(){return n.lastId||(n.lastId=0),this.constructor.NAME+"_"+(n.lastId+=1)},getAsHTML:function(t){var n=this.get(t);return e.Escape.html(r.isValue(n)?String(n):"")},getAsURL:function(e){var t=this.get(e);return encodeURIComponent(r.isValue(t)?String(t):"")},isModified:function(){return this.isNew()||!s.isEmpty(this.changed)},isNew:function(){return!r.isValue(this.get("id"))},load:function(e,t){var n=this;return typeof e=="function"&&(t=e,e={}),e||(e={}),n.sync("read",e,function(r,i){var s={options:e,response:i},o;r?(s.error=r,s.src="load",n.fire(u,s)):(n._loadEvent||(n._loadEvent=n.publish(a,{preventable:!1})),o=s.parsed=n._parse(i),n.setAttrs(o,e),n.changed={},n.fire(a,s)),t&&t.apply(null,arguments)}),n},parse:function(t){if(typeof t=="string")try{return e.JSON.parse(t)}catch(n){return this.fire(u,{error:n,response:t,src:"parse"}),null}return t},save:function(e,t){var n=this;return typeof e=="function"&&(t=e,e={}),e||(e={}),n._validate(n.toJSON(),function(r){if(r){t&&t.call(null,r);return}n.sync(n.isNew()?"create":"update",e,function(r,i){var s={options:e,response:i},o;r?(s.error=r,s.src="save",n.fire(u,s)):(n._saveEvent||(n._saveEvent=n.publish(f,{preventable:!1})),i&&(o=s.parsed=n._parse(i),n.setAttrs(o,e)),n.changed={},n.fire(f,s)),t&&t.apply(null,arguments)})}),n},set:function(e,t,n){var r={};return r[e]=t,this.setAttrs(r,n)},setAttrs:function(t,n){var r=this.idAttribute,i,u,a,f,l;n=e.merge(n),l=n._transaction={},r!=="id"&&(t=e.merge(t),s.owns(t,r)?t.id=t[r]:s.owns(t,"id")&&(t[r]=t.id));for(a in t)s.owns(t,a)&&this._setAttr(a,t[a],n);if(!s.isEmpty(l)){i=this.changed,f=this.lastChange={};for(a in l)s.owns(l,a)&&(u=l[a],i[a]=u.newVal,f[a]={newVal:u.newVal,prevVal:u.prevVal,src:u.src||null});n.silent||(this._changeEvent||(this._changeEvent=this.publish(o,{preventable:!1})),n.changed=f,this.fire(o,n))}return this},sync:function(){var e=i(arguments,0,!0).pop();typeof e=="function"&&e()},toJSON:function(){var e=this.getAttrs();return delete e.clientId,delete e.destroyed,delete e.initialized,this.idAttribute!=="id"&&delete e.id,e},undo:function(e,t){var n=this.lastChange,r=this.idAttribute,o={},u;return e||(e=s.keys(n)),i.each(e,function(e){s.owns(n,e)&&(e=e===r?"id":e,u=!0,o[e]=n[e].prevVal)}),u?this.setAttrs(o,t):this},validate:function(e,t){t&&t()},addAttr:function(e,t,n){var i=this.idAttribute,s,o;return i&&e===i&&(s=this._isLazyAttr("id")||this._getAttrCfg("id"),o=t.value===t.defaultValue?null:t.value,r.isValue(o)||(o=s.value===s.defaultValue?null:s.value,r.isValue(o)||(o=r.isValue(t.defaultValue)?t.defaultValue:s.defaultValue)),t.value=o,s.value!==o&&(s.value=o,this._isLazyAttr("id")?this._state.add("id","lazy",s):this._state.add("id","value",o))),l.superclass.addAttr.apply(this,arguments)},_parse:function(e){return this.parse(e)},_validate:function(e,t){function i(i){if(r.isValue(i)){n.fire(u,{attributes:e,error:i,src:"validate"}),t(i);return}t()}var n=this;n.validate.length===1?i(n.validate(e,i)):n.validate(e,i)},_defAttrChangeFn:function(e){var t=e.attrName;this._setAttrVal(t,e.subAttrName,e.prevVal,e.newVal)?(e.newVal=this.get(t),e._transaction&&(e._transaction[t]=e)):e.stopImmediatePropagation()}},{NAME:"model",ATTRS:{clientId:{valueFn:"generateClientId",readOnly:!0},id:{value:null}}})},"3.10.0",{requires:["base-build","escape","json-parse"]});
/*
YUI 3.10.0 (build a03ce0e)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("model-list",function(e,t){function c(){c.superclass.constructor.apply(this,arguments)}var n=e.Attribute.prototype,r=e.Lang,i=e.Array,s="add",o="create",u="error",a="load",f="remove",l="reset";e.ModelList=e.extend(c,e.Base,{model:e.Model,_isYUIModelList:!0,initializer:function(t){t||(t={});var n=this.model=t.model||this.model;typeof n=="string"&&(this.model=e.Object.getValue(e,n.split(".")),this.model||e.error("ModelList: Model class not found: "+n)),this.publish(s,{defaultFn:this._defAddFn}),this.publish(l,{defaultFn:this._defResetFn}),this.publish(f,{defaultFn:this._defRemoveFn}),this.after("*:idChange",this._afterIdChange),this._clear(),t.items&&this.add(t.items,{silent:!0})},destructor:function(){this._clear()},add:function(t,n){var s=t._isYUIModelList;return s||r.isArray(t)?i.map(s?t.toArray():t,function(t,r){var i=n||{};return"index"in i&&(i=e.merge(i,{index:i.index+r})),this._add(t,i)},this):this._add(t,n)},create:function(t,n,r){var i=this;return typeof n=="function"&&(r=n,n={}),n||(n={}),t._isYUIModel||(t=new this.model(t)),i.fire(o,e.merge(n,{model:t})),t.save(n,function(e){e||i.add(t,n),r&&r.apply(null,arguments)})},each:function(e,t){var n=this._items.concat(),r,i,s;for(r=0,s=n.length;r<s;r++)i=n[r],e.call(t||i,i,r,this);return this},filter:function(e,t){var n=[],r=this._items,i,s,o,u;typeof e=="function"&&(t=e,e={});for(i=0,o=r.length;i<o;++i)s=r[i],t.call(this,s,i,this)&&n.push(s);return e.asList?(u=new this.constructor({model:this.model}),n.length&&u.add(n,{silent:!0}),u):n},get:function(e){return this.attrAdded(e)?n.get.apply(this,arguments):this.invoke("get",e)},getAsHTML:function(t){return this.attrAdded(t)?e.Escape.html(n.get.apply(this,arguments)):this.invoke("getAsHTML",t)},getAsURL:function(e){return this.attrAdded(e)?encodeURIComponent(n.get.apply(this,arguments)):this.invoke("getAsURL",e)},getByClientId:function(e){return this._clientIdMap[e]||null},getById:function(e){return this._idMap[e]||null},invoke:function(e){var t=[this._items,e].concat(i(arguments,1,!0));return i.invoke.apply(i,t)},load:function(e,t){var n=this;return typeof e=="function"&&(t=e,e={}),e||(e={}),this.sync("read",e,function(r,i){var s={options:e,response:i},o;r?(s.error=r,s.src="load",n.fire(u,s)):(n._loadEvent||(n._loadEvent=n.publish(a,{preventable:!1})),o=s.parsed=n._parse(i),n.reset(o,e),n.fire(a,s)),t&&t.apply(null,arguments)}),this},map:function(e,t){return i.map(this._items,e,t)},parse:function(t){if(typeof t=="string")try{return e.JSON.parse(t)||[]}catch(n){return this.fire(u,{error:n,response:t,src:"parse"}),null}return t||[]},remove:function(e,t){var n=e._isYUIModelList;return n||r.isArray(e)?(e=i.map(n?e.toArray():e,function(e){return r.isNumber(e)?this.item(e):e},this),i.map(e,function(e){return this._remove(e,t)},this)):this._remove(e,t)},reset:function(t,n){t||(t=[]),n||(n={});var r=e.merge({src:"reset"},n);return t._isYUIModelList?t=t.toArray():t=i.map(t,function(e){return e._isYUIModel?e:new this.model(e)},this),r.models=t,n.silent?this._defResetFn(r):(this.comparator&&t.sort(e.bind(this._sort,this)),this.fire(l,r)),this},some:function(e,t){var n=this._items.concat(),r,i,s;for(r=0,s=n.length;r<s;r++){i=n[r];if(e.call(t||i,i,r,this))return!0}return!1},sort:function(t){if(!this.comparator)return this;var n=this._items.concat(),r;return t||(t={}),n.sort(e.bind(this._sort,this)),r=e.merge(t,{models:n,src:"sort"}),t.silent?this._defResetFn(r):this.fire(l,r),this},sync:function(){var e=i(arguments,0,!0).pop();typeof e=="function"&&e()},toArray:function(){return this._items.concat()},toJSON:function(){return this.map(function(e){return e.toJSON()})},_add:function(t,n){var i,o;n||(n={}),t._isYUIModel||(t=new this.model(t)),o=t.get("id");if(this._clientIdMap[t.get("clientId")]||r.isValue(o)&&this._idMap[o]){this.fire(u,{error:"Model is already in the list.",model:t,src:"add"});return}return i=e.merge(n,{index:"index"in n?n.index:this._findIndex(t),model:t}),n.silent?this._defAddFn(i):this.fire(s,i),t},_attachList:function(e){e.lists.push(this),e.addTarget(this)},_clear:function(){i.each(this._items,this._detachList,this),this._clientIdMap={},this._idMap={},this._items=[]},_compare:function(e,t){return e<t?-1:e>t?1:0},_detachList:function(e){var t=i.indexOf(e.lists,this);t>-1&&(e.lists.splice(t,1),e.removeTarget(this))},_findIndex:function(e){var t=this._items,n=t.length,r=0,i,s,o;if(!this.comparator||!n)return n;o=this.comparator(e);while(r<n)s=r+n>>1,i=t[s],this._compare(this.comparator(i),o)<0?r=s+1:n=s;return r},_parse:function(e){return this.parse(e)},_remove:function(t,n){var i,s;n||(n={}),r.isNumber(t)?(i=t,t=this.item(i)):i=this.indexOf(t);if(i===-1||!t){this.fire(u,{error:"Model is not in the list.",index:i,model:t,src:"remove"});return}return s=e.merge(n,{index:i,model:t}),n.silent?this._defRemoveFn(s):this.fire(f,s),t},_sort:function(e,t){return this._compare(this.comparator(e),this.comparator(t))},_afterIdChange:function(e){var t=e.newVal,n=e.prevVal,i=e.target;if(r.isValue(n)){if(this._idMap[n]!==i)return;delete this._idMap[n]}else if(this.indexOf(i)===-1)return;r.isValue(t)&&(this._idMap[t]=i)},_defAddFn:function(e){var t=e.model,n=t.get("id");this._clientIdMap[t.get("clientId")]=t,r.isValue(n)&&(this._idMap[n]=t),this._attachList(t),this._items.splice(e.index,0,t)},_defRemoveFn:function(e){var t=e.model,n=t.get("id");this._detachList(t),delete this._clientIdMap[t.get("clientId")],r.isValue(n)&&delete this._idMap[n],this._items.splice(e.index,1)},_defResetFn:function(e){if(e.src==="sort"){this._items=e.models.concat();return}this._clear(),e.models.length&&this.add(e.models,{silent:!0})}},{NAME:"modelList"}),e.augment(c,e.ArrayList)},"3.10.0",{requires:["array-extras","array-invoke","arraylist","base-build","escape","json-parse","model"]});
/*
YUI 3.10.0 (build a03ce0e)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("lazy-model-list",function(e,t){var n=e.Attribute.prototype,r=YUI.namespace("Env.Model"),i=e.Lang,s=e.Array,o="add",u="error",a="reset";e.LazyModelList=e.Base.create("lazyModelList",e.ModelList,[],{initializer:function(){this.after("*:change",this._afterModelChange)},free:function(e){var t;return e?(t=i.isNumber(e)?e:this.indexOf(e),t>=0&&delete this._models[t]):this._models=[],this},get:function(e){return this.attrAdded(e)?n.get.apply(this,arguments):s.map(this._items,function(t){return t[e]})},getAsHTML:function(t){return this.attrAdded(t)?e.Escape.html(n.get.apply(this,arguments)):s.map(this._items,function(n){return e.Escape.html(n[t])})},getAsURL:function(e){return this.attrAdded(e)?encodeURIComponent(n.get.apply(this,arguments)):s.map(this._items,function(t){return encodeURIComponent(t[e])})},indexOf:function(e){return s.indexOf(e&&e._isYUIModel?this._models:this._items,e)},reset:function(t,n){t||(t=[]),n||(n={});var r=e.merge({src:"reset"},n);return t=t._isYUIModelList?t.map(this._modelToObject):s.map(t,this._modelToObject),r.models=t,n.silent?this._defResetFn(r):(this.comparator&&t.sort(e.bind(this._sort,this)),this.fire(a,r)),this},revive:function(e){var t,n,r;if(e||e===0)return this._revive(i.isNumber(e)?e:this.indexOf(e));r=[];for(t=0,n=this._items.length;t<n;t++)r.push(this._revive(t));return r},toJSON:function(){return this.toArray()},_add:function(t,n){var r;n||(n={}),t=this._modelToObject(t),"clientId"in t||(t.clientId=this._generateClientId());if(this._isInList(t)){this.fire(u,{error:"Model is already in the list.",model:t,src:"add"});return}return r=e.merge(n,{index:"index"in n?n.index:this._findIndex(t),model:t}),n.silent?this._defAddFn(r):this.fire(o,r),t},_clear:function(){s.each(this._models,this._detachList,this),this._clientIdMap={},this._idMap={},this._items=[],this._models=[]},_generateClientId:function(){return r.lastId||(r.lastId=0),this.model.NAME+"_"+(r.lastId+=1)},_isInList:function(e){return!!("clientId"in e&&this._clientIdMap[e.clientId]||"id"in e&&this._idMap[e.id])},_modelToObject:function(e){return e._isYUIModel&&(e=e.getAttrs(),delete e.destroyed,delete e.initialized),e},_remove:function(t,n){return t._isYUIModel&&(t=this.indexOf(t)),e.ModelList.prototype._remove.call(this,t,n)},_revive:function(e){var t,n;return e<0?null:(t=this._items[e],t?(n=this._models[e],n||(n=new this.model(t),n._set("clientId",t.clientId),this._attachList(n),this._models[e]=n),n):null)},_afterModelChange:function(e){var t=e.changed,n=this._clientIdMap[e.target.get("clientId")],r;if(n)for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r].newVal)},_defAddFn:function(e){var t=e.model;this._clientIdMap[t.clientId]=t,i.isValue(t.id)&&(this._idMap[t.id]=t),this._items.splice(e.index,0,t)},_defRemoveFn:function(e){var t=e.index,n=e.model,r=this._models[t];delete this._clientIdMap[n.clientId],"id"in n&&delete this._idMap[n.id],r&&this._detachList(r),this._items.splice(t,1),this._models.splice(t,1)}})},"3.10.0",{requires:["model-list"]});
YUI.add("surfer",function(e){var c,b,d=(e.UA.webkit?true:false);time=0,playTimer={timer:false,delay:5000,startDelay:300};EVT_NEXTCLICK="nextClick",EVT_PREVCLICK="prevClick",EVT_ITEMCHANGE="itemChange",EVT_READY="ready",EVT_CLOSE="close",EVT_END="end",EVT_PLAY="play",EVT_PAUSE="pause",EVT_RESIZE="resize";function a(f){a.superclass.constructor.apply(this,arguments)}a.ATTRS={nxtNode:{writeOnce:true,setter:e.one,validator:e.Lang.isString},prvNode:{writeOnce:true,setter:e.one,validator:e.Lang.isString},easing:{value:"ease-out"},transitionDuration:{value:300,validator:e.Lang.isNumber},transitionLimit:{value:400,validator:e.Lang.isNumber},datamodel:{value:null},curPos:{value:1,validator:e.Lang.isNumber},disableHistory:{value:true},history:{value:false},fromOverlay:{value:false},fullScreenMode:{value:false},cssResultClass:{value:"card"},titleField:{value:"tit"},urlField:{value:"url"},autoPlayDelay:{value:5000},microTemplate:{writeOnce:true,setter:e.one,validator:e.Lang.isString}};a.NAME="surfer";e.extend(a,e.Widget,{initializer:function(f){var g=this;g.last=false;g.first=false;g._high=0;g._low=0;g.prefetched=[];g._events=[];g._touchSupport="ontouchstart" in e.config.win;g._disableTransition=!g._touchSupport;g._moving=false;g._easing=this.get("easing");g._duration=this.get("transitionDuration");g._nxtNode=this.get("nxtNode");g._prvNode=this.get("prvNode");g._cb=this.get("contentBox");g._bb=this.get("boundingBox");playTimer.delay=this.get("autoPlayDelay");g.cssclass=this.get("cssResultClass");g.current=g.get("curPos");g.previous=g.current;time=this._getTime();g.history=g.get("history");if(!g.history&&!g.get("disableHistory")){if(e.config.win.history&&e.config.win.history.pushState){e.use("history-html5",function(h){g.history=new h.HistoryHTML5({initialState:{index:g.current}})})}}if(this.get("microTemplate")){this.compiled=e.Template.Micro.compile(this.get("microTemplate").getHTML())}else{this.compiled=null}},destructor:function(){this._detachEvents()},renderUI:function(){this._scrollToTop();this._setDims()},bindUI:function(){var f=this;f._bindIO();if(f._touchSupport){f._events.push(e.on("touchmove",function(g){g.halt()},window));f._cb.on("touchstart",f._onTouchStart,f);f._cb.on("touchmove",f._onTouchMove,f);f._cb.on("flick",e.bind(f._onFlick,f))}f._events.push(e.on("orientationchange",f._onResize,e.config.win,f,"orient"));f._events.push(e.on("windowresize",f._onResize,e.config.win,f,"resize"));f._events.push(f.on("fullScreenModeChange",f._onResize,f));f.on("forward",f.forward,f);f.on("backward",f.backward,f);f.on("repaint",f.repaint,f);f._nxtNode.on("click",f._next,f);f._prvNode.on("click",f._prev,f);f._events.push(e.on("key",f._prev,e.config.doc.body,"down:37",f));f._events.push(e.on("key",f._next,e.config.doc.body,"down:39",f));if(!f.get("disableHistory")){f._events.push(e.on("history:change",this._handleHistChange,this))}this._bindCustom()},syncUI:function(){var j=this;j._resizeContents();var f=e.Node.create('<li class="'+j.cssclass+'"></li>'),g=e.Node.create('<li class="'+j.cssclass+'"></li>');if(j._cb.one("li")){var h=j._cb.one("li")}else{var h=e.Node.create('<li class="'+j.cssclass+'"></li>');j._cb.append(h)}h.addClass("current");j._cb.append(f);j._cb.append(g);j._updateUI(this.get("fromOverlay"),this.get("fromOverlay"));j.fire(EVT_READY)},_bindIO:function(){this.io=this.get("datamodel");this._syncBoundaries();this._events.push(this.io.on("data",e.bind(this._onData,this)))},_updateUI:function(p,r){var t=this;var o=t._data(t.current),m=t._data(t.current,1),l=t._data(t.current,-1),j=t.io.offset(t.current,-1),n=t.io.offset(t.current,1);var g=t._cb.one(".current");var k=g.get("nextSibling");if(!k){k=t._cb.all("li."+t.cssclass).item(0)}var f=g.get("previousSibling");if(!f){f=t._cb.all("li."+t.cssclass).item(2)}t.fire(EVT_ITEMCHANGE,{data:o,logPV:r,index:t.current,fromSrp:p,prevIndex:t.previous,node:g,forward:false});t._setItem(o,g,t.current);t._setItemID(t.current,g);if(r){t._updateBrowser(t.current,o)}t.prefetched[t.current]=1;if(m){t._setItem(m,k,n);t._setItemID(n,k);t.prefetched[n]=1;t.last=false}else{t.last=true}t._transOrLeft(k,t.twidth);if(l){t._setItem(l,f,j);t._setItemID(j,f);t.prefetched[j]=1;t.first=false}else{t.first=true;var h=t._data(t.current,2),q=t.io.offset(t.current,2);if(h){t._setItem(h,f,q);t._setItemID(q,f);t.prefetched[q]=1}}t._transOrLeft(f,-1*t.twidth);t._toggleNextPrev()},_handleHistChange:function(f){if(f.changed.index&&f.changed.index.newVal==-9999){this.fire(EVT_CLOSE);return}if(f.changed.index&&f.changed.index.newVal!=this.current){this._moveTo(f.changed.index.newVal)}},_onData:function(f){this._syncBoundaries();if(!this._moving){if(this.current<this._high){this.last=false;this.fire("repaint",{backward:false,forward:false,resize:false,sync:true})}}this.fire("data",f)},_data:function(g,f){return this.io.item(g,f)},getData:function(f){if(!e.Lang.isValue(f)){f=this.current}return this.io.item(f,0)},_syncBoundaries:function(){pos_map=this.io._posMap;if(pos_map){this._low=pos_map[0];this._high=pos_map[pos_map.length-1]}else{this._low=0;this._high=this.io._items.length-1}},_transform:function(f){return(d)?"translate3d("+f+", 0, 0)":"translate("+f+",0)"},_transOrLeft:function(g,f){if(!e.UA.ie){g.setStyle("transform",this._transform(f+"px"))}else{g.setStyle("left",f+"px")}},_next:function(f){if(f.target.get("nodeName")=="INPUT"){return}f.preventDefault();if(this.get("isPlaying")){this.pause()}this.fire(EVT_NEXTCLICK);this.next()},next:function(){this.fire("forward")},_prev:function(f){if(f.target.get("nodeName")=="INPUT"){return}f.preventDefault();if(this.get("isPlaying")){this.pause()}this.fire(EVT_PREVCLICK);this.prev()},prev:function(){this.fire("backward")},forward:function(){var k=this;if((k.current==k._high)||(!k._disableTransition&&k._moving)){return}var h=k._cb.one(".current"),f=h.get("nextSibling");if(!f){f=k._cb.all("li."+k.cssclass).item(0)}this._restoreCurrent();f.addClass("current");h.removeClass("current");k._moving=true;var g=k._data(k.current,2);k.first=false;if(!g){k.last=true}else{k.last=false}var j=k._data(k.current,1);if(k._touchSupport){k._cb.transition({easing:k._easing,duration:k._disableTransition?0:(k._duration/1000),transform:k._transform(-1*k.twidth+"px")},function(){k.fire("repaint",{backward:false,forward:true,resize:false,sync:false})})}else{k._transOrLeft(k._cb,-1*k.twidth);k.fire("repaint",{backward:false,forward:true,resize:false,sync:false})}},backward:function(){var j=this;if((j.current==j._low)||(!j._disableTransition&&j._moving)){return}var h=e.one(".current"),f=h.get("previousSibling");if(!f){f=j._cb.all("li."+j.cssclass).item(2)}j._moving=true;j._restoreCurrent();f.addClass("current");h.removeClass("current");var g=j._data(j.current,-2);j.last=false;if(!g){j.first=true}else{j.first=false}var k=j._data(j.current,-1);if(j._touchSupport){j._cb.transition({easing:j._easing,duration:j._disableTransition?0:(j._duration/1000),transform:j._transform(j.twidth+"px")},function(){j.fire("repaint",{backward:true,forward:false,resize:false,sync:false})})}else{j._transOrLeft(j._cb,j.twidth);j.fire("repaint",{backward:true,forward:false,resize:false,sync:false})}},_toggleNextPrev:function(){var g=this.current;if(!this._data(g,-1)){this._prvNode.hide()}else{this._prvNode.show()}var f=e.Lang.isNumber(this.io.off)?this.io.off:1;if(g>=(this.io.get("total")-f)){this._nxtNode.hide();this.fire(EVT_END)}else{this._nxtNode.show()}},_getTime:function(){var f=new Date();return f.getTime()},repaint:function(n){var o=this;var g=o._cb.one(".current");var k=g.get("nextSibling");if(!k){k=o._cb.all("li."+o.cssclass).item(0)}var f=g.get("previousSibling");if(!f){f=o._cb.all("li."+o.cssclass).item(2)}if(!n.resize){o._transOrLeft(o._cb,0)}o.previous=o.current;o.current=parseInt(g.getAttribute("data-id"));o._transOrLeft(g,0);var p=o._data(o.current);if(p){if(n.forward||n.backward){o._updateBrowser(o.current,p)}n.resize&&o._syncItem(p,g)}var m=o._data(this.current,1),j=o._data(this.current,-1),h=o.io.offset(o.current,-1),l=o.io.offset(o.current,1);if(f){if((n.backward||n.sync)&&j){o._setItem(j,f,h);o._setItemID(h,f);o.prefetched[h]=1}else{if(n.resize&&j){o._syncItem(j,f)}}o._transOrLeft(f,-1*o.twidth)}if(k){if((n.forward||n.sync)&&m){o._setItem(m,k,l);o._setItemID(l,k);o.prefetched[l]=1}else{if(n.resize&&m){o._syncItem(m,k)}}o._transOrLeft(k,o.twidth)}o._moving=false;if(n.forward||n.backward){o.fire(EVT_ITEMCHANGE,{data:p,logPV:true,index:o.current,fromSrp:false,prevIndex:o.previous,node:g,forward:n.forward})}o._toggleNextPrev()},_onTouchStart:function(f){f=f.touches[0];c=f.pageX;b=f.pageY},_onTouchMove:function(g){if(this._moving){return}g=g.touches[0];if(c<g.pageX){var f=false}else{var f=true}if((f&&this.current==this._high)||(!f&&this.current==this._low)){return}distance=g.pageX-c;this._cb.setStyle("transform",this._transform(distance+"px"))},_onFlick:function(g){now=this._getTime();diff=now-time;time=this._getTime();if(diff<this.get("transitionLimit")){this._disableTransition=true}else{this._disableTransition=false}if(this._moving){return}if(g.flick.distance==0&&g.flick.velocity==0){return}if(g.flick.axis=="y"){this._cb.setStyle("transform",this._transform(0));return true}var f=g.flick.distance<0;var h=g.flick.distance>0;if(f&&!this.last){this.fire("forward")}if(h&&!this.first){this.fire("backward")}},_onResize:function(f,g){this.fire(EVT_RESIZE,{src:g});this._scrollToTop();this._setDims();this._resizeContents(g);this.fire("repaint",{backward:false,forward:false,resize:true,sync:false})},_moveTo:function(g){var f=this;if(f.get("isPlaying")){f.pause()}if(g==f.current){return}f._restoreCurrent();f.previous=f.current;f.current=g;f._updateUI(false,true)},_updateBrowser:function(g,f){if(this.get("disableHistory")){return}var j=f[this.get("titleField")],h=f[this.get("urlField")]||f.fpurl;if(!this.get("fullScreenMode")){this.history&&this.history.addValue("index",g,{title:j,url:h})}e.config.doc.title=this._htmlDecode(j)},_detachEvents:function(f){e.Array.each(this._events||[],function(g){g.detach()},this);this._events=[]},_scrollToTop:function(){if(e.UA.iphone){e.config.win.scrollTo(0,1)}else{e.config.win.scrollTo(0,0)}},_setDims:function(){var f=this._bb.get("region");this.width=f.width;this.twidth=f.width;this.height=f.height},play:function(){this._cancelPlayTimer();this.set("isPlaying",true);playTimer.timer=e.later(playTimer.startDelay,this,"_startPlay");this.fire(EVT_PLAY)},_startPlay:function(){this._cancelPlayTimer();this.next();playTimer.timer=e.later(playTimer.delay,this,"next",null,true)},pause:function(){this._cancelPlayTimer();this.set("isPlaying",false);this.fire("repaint",{backward:false,forward:false,resize:true,sync:false});this.fire(EVT_PAUSE)},_cancelPlayTimer:function(){if(playTimer.timer){playTimer.timer.cancel()}},_setItemID:function(g,f){f.setAttribute("data-id",g)},_setItem:function(f,g,h){if(this.compiled){g.setHTML(this.compiled(f))}this._syncItem(f,g)},_htmlDecode:function(f){if(!this.dummyDiv){this.dummyDiv=e.Node.create("<div></div>")}return this.dummyDiv.setContent(f).get("text")},_resizeContents:function(){},_bindCustom:function(){},_restoreCurrent:function(){},_syncItem:function(f,g){}});e.namespace("MMSearch").Surfer=a},"1.0.0",{requires:["widget-base","node","transition","event","json-parse","template-micro"]});YUI.add("surfer-base-plugin",function(b){b.namespace("MMSearch");function a(c){a.superclass.constructor.apply(this,arguments)}a.NAME="SurferBasePlugin";a.NS="sbp";a.ATTRS={};b.extend(a,b.Plugin.Base,{initializer:function(){this.events=[]},destroy:function(){b.each(this.events,function(d,c){if(d){d.detach()}});this.events=[]},_pushEvent:function(c){this.events.push(c)}});b.namespace("MMSearch").SurferBasePlugin=a},"0.0.1",{requires:["event","plugin"]});YUI.add("right-rail",function(b){function a(){a.superclass.constructor.apply(this,arguments)}a.ATTRS={boundingBox:{setter:b.one},contentBox:{setter:b.one},width:{value:290,validator:b.Lang.isNumber},toggleButton:{setter:b.one},mask:{setter:b.one},searchbox:{setter:b.one}};a.NAME="right-rail";a.NS="rrail";b.extend(a,b.MMSearch.SurferBasePlugin,{initializer:function(){this.bb=this.get("boundingBox");this.cb=this.get("contentBox");this.searchbox=this.get("searcbox");this.rrwidth=this.get("width");this._bindUI()},_bindUI:function(){this.onHostEvent("resize",this._onHostResize);this.onHostEvent("itemChange",this._closeRightRail);this._pushEvent(this.get("toggleButton").on("click",this._toggleRightRail,this));this._pushEvent(this.get("mask").on("click",this._closeRightRail,this));this._onHostResize()},_toggleRightRail:function(){if(this.bb.hasClass("open")){this._closeRightRail()}else{this._openRightRail()}},_openRightRail:function(){var c=this;c.cb.transition({duration:0.2,easing:"ease-in",right:"0px"},function(){c.bb.addClass("open")});this.fire("open")},_closeRightRail:function(){if(!this.bb.hasClass("open")){return}if(this.searchbox){this.searchbox.blur()}this.bb.removeClass("open");this.cb.transition({duration:0.2,easing:"ease-out",right:"-"+this.rrwidth+"px"});this.fire("close")},_onHostResize:function(c){}});b.namespace("MMSearch").RightRailPlugin=a},"1.0.0",{requires:["node","surfer-base-plugin"]});YUI.add("right-rail-reco",function(b){b.namespace("MMSearch");function a(){a.superclass.constructor.apply(this,arguments)}a.NAME="RightRailRecoPlugin";a.NS="rreco";a.ATTRS={url:{value:""},strings:{value:{trendingtopics:"Trending Topics",recommendedtopics:"Recommended Topics",exploretags:"Related Topics"}},searchbox:{setter:b.one},sbclear:{value:"#sbxclr",setter:b.one},boundingNode:{setter:b.one},contentNode:{setter:b.one},hideClass:{value:"sa-hidden"}};b.extend(a,b.MMSearch.SurferBasePlugin,{initializer:function(){this.cb=this.get("contentNode");this.bb=this.get("boundingNode");this.sbclear=this.get("sbclear");this._bindUI();this._fetch()},_bindUI:function(){var c=this.get("searchbox");this._pushEvent(c.on("valueChange",function(d){if(c.get("value")==""){this.sbclear.hide();this.show()}else{this.sbclear.show()}},this));this._pushEvent(c.on("focus",function(d){if(c.get("value")==""){this.show()}},this));this._pushEvent(c.on("clickoutside",function(d){if(d.target!=this.sbclear){this.hide()}},this));this._pushEvent(this.sbclear.on("click",function(d){c.set("value","");this.sbclear.hide();this.show()},this))},_fetch:function(){var c=this.get("url");if(!c){return}b.jsonp(c+"&callback={callback}",{on:{success:function(d){this._build(d)}},context:this})},_build:function(e){var d="";var c=this;b.each(e,function(g,f){d+="<h2>"+c.get("strings")[f]+"</h2><ul>";b.each(g,function(h){d+='<li><a href="'+h.link+'">'+h.key+"</a></li>"});d+="</ul>"});this.cb.set("innerHTML",d)},show:function(){this.bb.removeClass(this.get("hideClass"))},hide:function(){this.bb.addClass(this.get("hideClass"))}});b.namespace("MMSearch").RightRailRecoPlugin=a},"0.0.1",{requires:["node","jsonp","jsonp-url","event-valuechange","event-outside","surfer-base-plugin"]});YUI.add("surfer-util",function(a){a.MMSearch.SurferUtil={beacon:function(c){if(!c){return}var b=new Image();b.src=c+(c.indexOf("?")===-1?"?":"&")+(new Date()).getTime()},buildSearchUrl:function(d,g,e,j){var f=d.get("form"),c=e||f.getAttribute("action"),b=f.all("input,select,textarea"),h=[];if(!j){j={}}b.each(function(n){var m,l;if(n.get("tagName").toLowerCase()==="input"){switch(n.get("type")){case"button":case"image":case"reset":case"submit":return;case"checkbox":case"radio":if(!n.get("checked")){return}break}}m=n.get("name");if(m===d.get("name")){l=g}else{if(!j[m]){l=n.get("value")}}if(l){h.push(encodeURIComponent(m)+"="+encodeURIComponent(l))}});a.each(j,function(m,l){h.push(encodeURIComponent(l)+"="+encodeURIComponent(m))});return c+(c.indexOf("?")===-1?"?":"&")+h.join("&")},highlightAll:function(e,d){var c="(&[^;\\s]*)?(%needles)";var b=function(f,h,g){return h&&!(/\s/).test(g)?f:"<b>{s}</b>".replace(/\{s\}/g,g)};d=a.Lang.isArray(d)?d.concat():[d];for(i=0,len=d.length;i<len;++i){d[i]=a.Escape.regex(a.Escape.html(d[i]))}e=a.Escape.html(e);return e.replace(new RegExp(c.replace("%needles",d.join("|")),"gi"),b)},truncate:function(h,c,d){var e,g,f,b=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];h=a.Lang.trim(h);if(c<=0||h.length<=c){return h}f=new RegExp("(\\"+b.join("|\\")+")","g");d=d?d.replace(f,"\\$1").split(/\s+/):[];for(e=0;e<d.length;++e){g=d[e].replace;if(g.length>3){h=h.replace(new RegExp("(?:^|\\s+)"+g+"(?:\\s+)?","gi"),"...");if(h.length<=c){return h}}}return a.Lang.trim(h.substr(0,c-3)).replace(/\.+$/,"")+"..."},isVisible:function(b){if(!b||b.getComputedStyle("display")=="none"||b.getComputedStyle("visibility")=="hidden"){return false}return true}}},"1.0.0",{requires:["node"]});YUI.add("mmsearch-assist-plugin",function(d){var a="show",c="hide";function b(e){b.superclass.constructor.apply(this,arguments)}b.NAME="SearchAssistPlugin";b.NS="sap";b.ATTRS={closeNode:{value:"#sa-close",setter:d.one,writeOnce:"initOnly"},source:{value:null},align:{value:null},resultTemplate:{value:'<a href="{url}">{suggestion}</a>'},preventDef:{value:false}};d.extend(b,d.Plugin.Base,{initializer:function(){var e=this;e._inputNode=this.get("host");e._closeNode=this.get("closeNode");this._fetchAssets()},_fetchAssets:function(){if(location.protocol=="https:"){var e=["https://s.yimg.com/pv/static/lib/isyc_yui_3_autocomplete_201206060900.css","https://s.yimg.com/pv/static/lib/isyc_yui_3_autocomplete_201206060900.js"]}else{var e=["http://l.yimg.com/pv/static/lib/isyc_yui_3_autocomplete_201206060900.css","http://l.yimg.com/pv/static/lib/isyc_yui_3_autocomplete_201206060900.js"]}d.Get.load(e,{onSuccess:this._handleSuccess,onFailure:this._handleFailure,context:this})},_initAutoComplete:function(){var e=this;d.use("autocomplete",function(h){var f=e._inputNode.get("value");if(!h.Lang.trim(f)){f="x"}var g=new h.DataSource.Get({source:e.get("source")});g.plug(h.Plugin.DataSourceCache,{max:30});g.sendRequest({request:f,callback:{success:function(){e._bind(g)},failure:function(){}}})})},_bind:function(f){var e=this;e._inputNode.plug(d.Plugin.AutoComplete,{resultFormatter:e.resultFormatter,resultListLocator:e.resultListLocator,requestTemplate:"{query}&callback={callback}",source:f,align:e.get("align"),queryDelay:200,minQueryLength:1,activateFirstItem:false});e._ac=e._inputNode.ac;e._alignNode=d.one(e._ac.get("align").node);if(e.get("preventDef")){e._ac.on("select",function(g){g.preventDefault();this._inputNode.set("value",g.result.text)},this)}e._ac.set("resultTemplate",e.get("resultTemplate"));e._bindClose();e._bindFocus();e._bindResults()},_bindClose:function(){var e=this,f=e._closeNode;d.on("closeassist",function(){e._ac.fire("clear")},e);if(!d.instanceOf(f,d.Node)){return}f.on("click",function(g){g.stopPropagation();e._inputNode.set("value","").focus();e._ac.fire("clear")})},_bindFocus:function(){this._inputNode.on("focus",this._onFocus,this)},_onFocus:function(f){var e=f.target;if(d.Lang.trim(e.get("value"))){e.ac.fire("query")}},_bindResults:function(){var e=this;e._inputNode.ac.on("results",function(){var g=this,h=g.get("boundingBox"),f=e._alignNode;h.setStyle("width",f.getComputedStyle("width")).setStyle("zIndex",99);e.fire(a)});e._inputNode.ac.on("visibleChange",function(f){if(f.newVal){this.fire(a)}else{this.fire(c)}},this)},_bindClear:function(){var e=this;e._ac.on("clear",function(){e.fire(c)})},_handleSuccess:function(){this._initAutoComplete()},_handleFailure:function(){this._fetchAssets()},resultFormatter:function(f,e){var g=this,f=d.Lang.trim(f);return d.Array.map(e,function(h){var k=h.raw;var j=d.MMSearch.SurferUtil;var l=j.buildSearchUrl(g.get("inputNode"),k,"",{fr2:"sg-gac",sado:1});k=j.truncate(k,70,f);k=j.highlightAll(k,f);var m={url:l,suggestion:k};return d.Lang.sub(g.get("resultTemplate"),m)})},resultListLocator:function(e){return e[1]}});d.namespace("MMSearch").SearchAssistPlugin=b},"0.0.1",{requires:["node","base","event-base","event-mouseenter","event-outside","datasource-get","datasource-cache","plugin","surfer-util"]});YUI.add("idle-timer",function(g){var d=false,h=-1,b=false,f=g.config.doc,e=30000;function c(j){clearTimeout(h);if(b){if(/visibilitychange/.test(j.type)){a(f.hidden||f.msHidden||f.webkitHidden||f.mozHidden)}else{if(d){a()}}h=setTimeout(a,e)}}function a(j){var k=false;if(typeof j!="undefined"){if(j!=d){d=j;k=true}}else{d=!d;k=true}if(k){g.IdleTimer.fire(d?"idle":"active")}}g.IdleTimer={isRunning:function(){return b},isIdle:function(){return d},start:function(j){b=true;d=false;if(typeof j=="number"){e=j}g.on("mousemove",c,f);g.on("keydown",c,f);g.on("mousedown",c,f);if(f.addEventListener){f.addEventListener("msvisibilitychange",c,false);f.addEventListener("webkitvisibilitychange",c,false);f.addEventListener("mozvisibilitychange",c,false)}h=setTimeout(a,e)},stop:function(){b=false;clearTimeout(h);g.detach("mousemove",c,f);g.detach("keydown",c,f);g.detach("mousedown",c,f);if(f.removeEventListener){f.removeEventListener("msvisibilitychange",c,false);f.removeEventListener("webkitvisibilitychange",c,false);f.removeEventListener("mozvisibilitychange",c,false)}}};g.augment(g.IdleTimer,g.Event.Target)},"0.1",{requires:["event","event-custom"]});YUI.add("idle-timer-plugin",function(a){var g="nodes",d="durationActive",f="durationIdle",c="it_active",b="it_idle",h="timer",j;function e(k){e.superclass.constructor.apply(this,arguments)}e.NAME="IdlePlugin";e.NS="idle";e.ATTRS={timer:{value:2500},durationActive:{value:0.15},durationIdle:{value:0.75},nodes:{}};a.extend(e,a.Plugin.Base,{initializer:function(){j=this.get("host");a.IdleTimer.subscribe("active",this._onActive,this);a.IdleTimer.subscribe("idle",this._onIdle,this);a.IdleTimer.start(this.get(h))},destructor:function(){a.IdleTimer.stop()},_onActive:function(){var k=this.get(g);for(var l=0;l<k.length;l++){var m=k[l];m.node.transition(a.merge(m.active,{duration:this.get(d)}))}j.fire(c)},_onIdle:function(){var k=this.get(g);for(var l=0;l<k.length;l++){var m=k[l];m.node.transition(a.merge(m.idle,{duration:this.get(f)}))}j.fire(b)}});a.namespace("MMSearch").IdlePlugin=e},"0.0.1",{requires:["idle-timer","transition"]});YUI.add("fullscreen",function(c){var b=c.config.doc,a=c.Lang;c.FullScreen={EVT_FULLSCREENCHANGE:"",isActive:function(){return false},request:function(d){},cancel:function(){}};(function(){var d=["webkit","moz"],f="",e=false;if(!a.isUndefined(b.cancelFullScreen)||!a.isUndefined(b.exitFullScreen)){e=true}else{c.Array.each(d,function(g){if(!a.isUndefined(b[g+"CancelFullScreen"])){f=g;e=true}})}if(e){switch(f){case"moz":c.mix(c.FullScreen,{EVT_FULLSCREENCHANGE:"mozfullscreenchange",_attachEvents:function(){b.addEventListener(EVT_FULLSCREENCHANGE,c.bind(this._onChange,this),true)},request:function(g){g.mozRequestFullScreen()},cancel:function(){b.mozCancelFullScreen()},isActive:function(){return b.mozFullScreen}},true);break;case"webkit":c.mix(c.FullScreen,{EVT_FULLSCREENCHANGE:"webkitfullscreenchange",request:function(g){g.webkitRequestFullScreen()},cancel:function(){b.webkitCancelFullScreen()},isActive:function(){return b.webkitIsFullScreen}},true);break;default:c.mix(c.FullScreen,{EVT_FULLSCREENCHANGE:"fullscreenchange",request:function(g){g.requestFullScreen()},cancel:function(){b.exitFullscreen()},isActive:function(){return a.isUndefined(b.fullscreenEnabled)?b.fullScreen:b.fullscreenEnabled}},true);break}}}())},"1.0.0",{requires:["base"]});YUI.add("fullscreen-plugin",function(e){var c="fullscreen",d=e.config.doc,b=e.Lang;function a(f){a.superclass.constructor.apply(this,arguments)}a.NAME="fullScreenPlugin";a.NS="fullscreen";a.ATTRS={node:{value:e.one("body"),validator:e.one},activateNode:{validator:e.one},cancelNode:{validator:e.one},fullScreenActive:{value:false,validator:b.isBoolean}};e.extend(a,e.Plugin.Base,{initializer:function(f){if(e.FullScreen.EVT_FULLSCREENCHANGE){d.addEventListener(e.FullScreen.EVT_FULLSCREENCHANGE,e.bind(this._onStateChange,this),true)}else{this.get("node").on("key",this._onStateChange,"esc",this)}if(this.get("cancelNode")){this.get("activateNode").on("click",this.toggle,this,false);this.get("cancelNode").on("click",this.toggle,this,true)}else{this.get("activateNode").on("click",this.toggle,this)}},_onStateChange:function(){var f=e.FullScreen.isActive();if(f!=this.get("fullScreenActive")){this.set("fullScreenActive",f);this.sync()}},toggle:function(k,j){var h=this.get("node"),g=h.getDOMNode(),f=this.get("fullScreenActive");if(typeof j=="boolean"){f=j}if(!f){e.FullScreen.request(g)}else{e.FullScreen.cancel()}this.set("fullScreenActive",!f);this.sync()},sync:function(){var g=this.get("node"),f=this.get("fullScreenActive");if(f){g.addClass(c)}else{g.removeClass(c)}this.fire("fullScreenChange",{active:f})}});e.namespace("MMSearch").FullScreenPlugin=a},"0.0.1",{requires:["fullscreen","plugin","event-custom"]});YUI.add("surfer-datamodel",function(b){function a(c){a.superclass.constructor.apply(this,arguments)}a.ATTRS={source:{value:null},schema:{},hits:{value:30,validator:b.Lang.isNumber},total:{value:9,setter:function(c){return Math.min(c,this.get("maxItems"))}},maxItems:{value:999,validator:b.Lang.isNumber},buffer:{value:10,validator:b.Lang.isNumber},shouldDedup:{value:true,validator:b.Lang.isBoolean}};a.NAME="dataModel";b.extend(a,b.LazyModelList,{initializer:function(c){this._offsets={};this._skip=0;this.datasource=new b.DataSource.Get({source:this.get("source")});this.datasource.plug({fn:b.Plugin.DataSourceJSONSchema,cfg:this.get("schema")})},item:function(c,d){var g=c;if(!this._offsets[0]){this._send(0);this._offsets[0]=true}if(d){g=this.offset(c,d)}else{var e=(g>this._skip)?g-this._skip:g;if(e){this._preFetch(e)}}return this._items[g]},_preFetch:function(h){var c=this.get("hits"),e=this.get("buffer");var i=Math.ceil(h/c)-1,k=i*c,d=(i+1)*c,j=null,g=true;if((d-h)<e){j=(i+1)*c}else{if((h-k)<e&&i>0){g=false;j=(i-1)*c}}if(j!=null){j+=1;if(!this._offsets[j]){this._send(j);this._offsets[j]=true}}},_send:function(c){this.datasource.sendRequest({request:"&b="+c,callback:{success:b.bind(this._onSuccess,this),failure:function(d){}}})},_onSuccess:function(n){var g=n.response,r=g.meta,k=g.results,q=this._items.length,m=q,h=this.get("hits");if(r&&r.first<10&&this.get("shouldDedup")){var l={},i=[],d=b.Lang.isValue(this._items[0].oid)?"oid":"vid",c=0,p=null;if(r.slotted){this._skip+=r.slotted}b.each(this._items,function(e,s){l[e[d].toUpperCase()]=s});b.each(k,function(e){p=l[e[d].toUpperCase()];if(!b.Lang.isValue(p)&&b.Lang.isValue(e.muid)){p=l[e.muid.toUpperCase()]}if(c>=q||!b.Lang.isValue(p)){e.pos=m++;i.push(e)}else{if(b.Lang.isValue(p)){var s=this._items[p].pos;this._items[p]=b.merge(this._items[p],e);this._items[p].pos=s;if(this._items[p].fpurl){this._items[p].fpurl=this._items[p].fpurl.replace("&tt=b","&tt=s")}++c}}},this);k=i;var j=this._items.concat(k)}else{b.each(k,function(e){e.pos=m++});var j=k}this.add(k);var o=r.total;if(r.count<h){o=r.last}this.set("total",o);this.fire("data",{m:r,results:j,total:o,forward:true})},offset:function(c,d){if(!d){d=0}return(c+d)},hasMore:function(){var c=this._items.length,c=(c>this._skip)?c-this._skip:c;if(c<this.get("total")){return true}return false}});b.namespace("MMSearch").DataModel=a},"1.0.0",{requires:["base","lazy-model-list","datasource-get","datasource-jsonschema","dataschema-json"]});YUI.add("surfer-video",function(c){var a=c.one("body");function b(d){b.superclass.constructor.apply(this,arguments)}b.ATTRS={b:{value:0,validator:c.Lang.isNumber},beac:{value:[]},pvURL:{},yep:{},yepUrl:{value:null},hulUrl:{},checkHulUrl:{},ppodUrl:{},enableVRec:{value:false},noplay:{value:0},ono404Url:{value:"http://video.search.yahoo.com/cl"},fullScreenAutoplay:{value:false},qsResUrl:{value:""},offset:{value:0},latest:{value:false},sr:{value:""},pstcat:{value:""},tablet:{value:false},cssResultClass:{value:"card"},ofr:{value:""},yepjs:{value:""}};b.NAME="surfer-video";c.extend(b,c.MMSearch.Surfer,{BOUNDING_TEMPLATE:'<div class="surfer"></div>',CONTENT_TEMPLATE:'<ul id="mm-card"></ul>',initializer:function(d){this.b=this.get("b")?(this.get("b")):0;if(this.b>=1){this.b-=1}this.beac=this.get("beac");this._tablet=this.get("tablet");this.upnstr=this.get("strings").up_next,upnarr=this.upnstr.split(" "),idx=(this.get("yep")&&this.get("yep").locale.indexOf("de-")>=0)?5:4;for(var e=0;e<upnarr.length;e++){if(upnarr[e].length<=idx){continue}upnarr[e]=upnarr[e].substring(0,idx)+"&shy;"+upnarr[e].substring(idx)}this.upnstr=upnarr.join(" ");this.minwidth=600;this.upncompiled=c.Template.Micro.compile(c.one("#template-upn").getHTML());this.stylesheet=new c.StyleSheet("surf")},destructor:function(){if(this.spotlight&&this.spotlight.plr){this.spotlight.plr.destroy()}},_setDims:function(){var d=c.DOM.viewportRegion();if(d.width>1220){this.width=d.width;if(!this.get("fullScreenMode")){this.width-=290}}else{this.width=d.width}if(this.width<this.minwidth){this.width=this.minwidth}this.height=d.height;this.twidth=this.width;this.stylesheet.set(".vsycwrap",{width:d.width+"px",height:d.height+"px"})},_resizeContents:function(){var d=this._tablet?(this.width-110):this.width,i=Math.min((this.height-125),parseInt(d*4/7)),e=Math.max(0,((this.height-125)-i)/2);if(c.UA.ie&&c.UA.ie<=7){this.stylesheet.set(".card-m,.card-m a",{height:(this.height-125)+"px",width:d+"px"})}this.stylesheet.set(".card-m img, .tablet .card-m img",{height:i+"px",width:d+"px",marginTop:e+"px"});var g=this._tablet?d:(this.width-60);this.stylesheet.set(".playpod",{height:i+"px",width:g+"px",marginTop:e+"px"})},_setItem:function(h,g,i){if(!h){c.log("data undefined for "+i);return}g.setHTML(this.compiled(h));var d=this.get("strings");if(h.plr&&h.plr.plays){var e=d.play;g.removeClass("snb");g.addClass("plr")}else{var e=d.snob;g.removeClass("plr");g.addClass("snb")}g.one(".card-a").set("title",e);this._setUpNext(g,i)},_setUpNext:function(g,h){if(!g){return}var e=g.one(".upn"),d=this._data(h,1);if(d){e.setHTML(this.upncompiled(d));e.one("strong").set("text",this.upnstr);if(d.h){if(d.h>90){e.one("img").setStyle("marginTop",-(d.h/5)+"px")}else{e.one("img").setStyles({height:"100%",marginTop:0})}}}},_bindCustom:function(){this.autoplayFail=false;this.on(EVT_READY,function(){var d=this._data(this.current);if(!this.get("noplay")){if(d&&d.plr&&d.plr.plays){this.playVideo(false)}else{this.autoplayFail=true}}},this);c.delegate("click",this.playVideo,this._cb,"li a.card-a",this);c.delegate("click",function(){this._sendBeac("link")},this._cb,".cdd a.url",this);c.delegate("click",this._onUpNext,this._cb,".upn a",this);this.on(EVT_PREVCLICK,function(){this._sendBeac("prev")},this);this.on(EVT_NEXTCLICK,function(){this._sendBeac("next")},this);this.on(EVT_ITEMCHANGE,this._handleItemChange,this)},_onData:function(h){this._syncBoundaries();if(h.m){if(h.m.first&&h.m.first<this.b){this.b=h.m.first-1}if(c.Lang.isValue(h.m.sr)){this.set("sr",h.m.sr)}if(c.Lang.isValue(h.m.pstcat)){this.set("pstcat",h.m.pstcat)}}if(!this._moving){if(this.current<this._high){this.last=false;this.fire("repaint",{init:false,backward:false,forward:false,resize:false,sync:true})}}this._setUpNext(this._cb.one(".current"),this.current);if(!this.get("offset")&&this.io._off){this.set("offset",this.io._off)}if(h.m&&h.m.first<6){var d=this._data(this.current);if(this.autoplayFail&&c.Lang.isValue(d.plr)){if(d.plr.plays){this.playVideo(false,d);this.setCurrentDesc(d)}else{this._cb.one(".current s")&&this._cb.one(".current s").setStyle("visibility","visible")}}else{if(c.Lang.isValue(d.plr)&&d.plr.plays){var g=this._cb.one(".current s");if(g&&g.hasClass("sico")){g.replaceClass("sico","pico");this.setCurrentDesc(d)}}}this.stylesheet.set("#vsycdeck .card .ico",{visibility:"visible"})}this.fire("data",h)},playVideo:function(o,l){var j=l||this._data(this.current);if(!j.plr||!j.plr.plays){o&&this._sendBeac("action_snob");return}if(this._moving){return}if(o){o.preventDefault();this._sendBeac("action_play")}var i=this._cb.one(".current"),p=this,n=i.one(".card-ico"),h=c.one(".landscape .current .mattr"),k=i.one("img");this.spotlight=i.one(".playpod");var g=!c.Lang.isValue(j.huluc)&&(j.host.match(/screen\.yahoo\.com|music\.yahoo\.com/i)&&j.plr.plr==2&&this.get("checkHulUrl"));if(g){c.use("io-base",function(e){p._checkForHulu(j)});n&&n.hide();h&&h.hide();k&&k.transition({easing:"ease-out",duration:"0.4",opacity:0},function(){});return}var m={htag:j.plr.htag,plrcode:j.plr.plr,domain:j.host,eurl:j.plr.eurl,fv:j.plr.fv,pid:j.pid?j.pid:"",eid:j.plr.eid?j.plr.eid:"",yepUrl:this.get("yepUrl"),ono404Url:this.get("ono404Url"),hulUrl:this.get("hulUrl"),position:this.current,vid:j.vid,yep:this.get("yep"),yepjs:this.get("yepjs"),enableApi:this.get("enableVRec")};window.vsyc_playingVid=j.vid;window.vsyc_currIndex=this.current;this.spotlight.plug(c.MMSearch.VideoDDPlayer,m);n&&n.hide();h&&h.hide();k&&k.transition({easing:"ease-out",duration:"0.4",opacity:0},function(){p._showPlayer()});if(this.get("ppodUrl")){var d=this.get("ppodUrl")+"&host="+j.host+"&rand="+(new Date()).getTime();c.jsonp(d+"&callback={callback}",{on:{success:function(e){}},context:this})}},_showPlayer:function(){if(!this.spotlight){return}this.spotlight.setStyle("display","block");this.spotlight.plr.renderPlayer()},_checkForHulu:function(e){var g=e.rurl.substring(e.rurl.lastIndexOf("/")+1).replace(".html","");var d=this.get("checkHulUrl")+"&p="+encodeURIComponent("fromurl.path:"+g);this.hreq&&this.hreq.abort();this.hulupos=this.current;this.hreq=c.io(d,{on:{success:function(j,k,h){var i=c.JSON.parse(k.responseText);if(i.results&&i.results.content){i=i.results.content[0];if(i.plr.plr!=2){this.io._items[this.hulupos]=i}}this.io._items[this.hulupos].huluc=true;this.playVideo(false)}},context:this})},_sendBeac:function(d){if(!this.beac||typeof this.beac[d]=="undefined"){return}c.MMSearch.SurferUtil.beacon(this.beac[d])},_onUpNext:function(d){d.preventDefault();this._moveTo(this.current+1);this._sendBeac("upnext")},_restoreCurrent:function(){if(this.spotlight&&this.spotlight.plr){var d=this._cb.one(".current");this.spotlight.plr.destroy();this.spotlight.setStyle("display","none");this.spotlight.setHTML("");this.spotlight=null;var e=this._data(this.current);this._setItem(e,d,this.current)}},_handleItemChange:function(d){this.autoplayFail=false;if(d.logPV){this.logPV(d.data,d.fromSrp)}},setCurrentDesc:function(g){var e=this._cb.one(".current .cdd"),d=(g.plr&&g.plr.master?'<strong class="url">'+g.host+"</strong>":'<a class="url" target="_blank" href="'+g.rurl+'">'+g.host+"</a>&nbsp;&nbsp;&nbsp;")+(g.l?(g.l+"&nbsp;&nbsp;&nbsp;"):"")+(g.age?(g.age+"&nbsp;&nbsp;&nbsp;"):"");e.set("innerHTML","<h3>"+g.tit+'</h3><span class="desc">'+g.des+'</span><span class="attr">'+d+"</span>")},logPV:function(g,e){var d=false;if(!c.Lang.isValue(g)){return}if(!e&&this.get("pvURL")){var d=this.getPVUrl(g)+"&nod=1"}else{if(this.get("ofr")!="video"){var d=this.getPVUrl(g)}else{var d=g.url+"&host="+g.host+"&src=pv&o=js&rand="+(new Date()).getTime()}if(g.bURL){c.MMSearch.SurferUtil.beacon(g.bURL)}}if(this.get("ofr")){d+="&ofr="+this.get("ofr")}if(d){c.jsonp(d+"&callback={callback}",{on:{success:function(h){if(h){if(h.beac){this.beac=c.merge(this.beac,h.beac);if(h.qsResURL){this.set("qsResUrl",h.qsResURL)}if(e&&h.logoUrl){c.one(".vsycwrap .mm-hdr a").set("href",h.logoUrl)}}}}},context:this})}},getPVUrl:function(e){var d=this.get("pvURL")+"&rand="+(new Date()).getTime();if(e.host){d+="&host="+e.host+"&rurl="+encodeURIComponent(e.rurl)+"&vid="+e.vid}if(e.ct){d+="&ct="+e.ct}if(e.plr&&e.plr.plr&&e.plr.plr!=2){d+="&ilk=hq"}if(this.get("pstcat")){d+="&pstcat="+this.get("pstcat")}return d}});c.namespace("MMSearch").VideoSurfer=b},"1.0.0",{requires:["surfer","stylesheet","template-micro","json-parse","player-vsyc","jsonp","jsonp-url","surfer-util-video","surfer-util"]});YUI.add("surfer-app-video",function(e){var a="#vsyc-yschsp",b=".vsycwrap .sbxclr",d="hhid";function c(g){c.superclass.constructor.apply(this,arguments)}c.NAME="surferAppVideo";c.ATTRS={boundingBox:{value:"#vsycdeck"},query:{value:""},surferConfig:{value:{}},surferNodes:{value:{nxtNode:".vsycwrap .mmnext",prvNode:".vsycwrap .mmprev",microTemplate:"#template-vcard"}},targetNode:{setter:e.one,value:"#search ol"},hoverNode:{setter:e.one,value:".hv-card"},nodeToHide:{setter:e.one,value:"#doc"},selector:{value:"li"},datamodel:{value:false},strings:{value:{videosearch:"Video Search",close:"Close",showmore:"Show More Videos",viewall:"View All Results",exitfull:"Exit Fullscreen",viewfull:"View Fullscreen",search:"Search"}},cssUrl:{value:""},disableHistory:{value:false},srpUrl:{value:""},innerBox:{value:"#vsyc-playpod",setter:e.one}};e.extend(c,e.Widget,{initializer:function(){this.surfer=null;this.history=null;this.sconf=this.get("surferConfig");this.tb=this.get("targetNode");this.bound=false;if(this.sconf.query){this.set("query",this.sconf.query)}this.origUrl=e.config.win.location.href;var g=e.DOM.viewportRegion();if(!this.tb){this._initSurfer()}},destructor:function(){},renderUI:function(){var h=this.get("strings");if(!this.get("innerBox")){var g=e.Node.create(e.Lang.sub(this.INNER_TEMPLATE,{s0:h.videosearch,s1:h.close,s2:h.showmore,s3:h.viewall,s4:h.exitfull,s5:h.viewfull,s6:h.search,query:this.get("query"),srpUrl:this.get("srpUrl"),actionUrl:this.sconf.actionUrl}));this.get("boundingBox").appendChild(g);this._resetSearchBox()}},bindUI:function(){if(this.tb){this._bindOverlay()}},_bindOverlay:function(){if(this.get("cssUrl")&&this.get("cssUrl")!=""){e.Get.css(this.get("cssUrl"))}this.histhandle=false;if(!this.get("disableHistory")&&e.config.win.history&&e.config.win.history.pushState){var g=this;e.use("history-html5",function(i){g.history=new i.HistoryHTML5({initialState:{index:-9999}})})}this.srpTit=e.config.doc.title;var h=this.get("hoverNode");this.nodeToHide=this.get("nodeToHide");this.tb.delegate("click",this._open,this.get("selector"),this);if(h){h.on("click",this._open,this)}this.get("boundingBox").delegate("click",this._close,".cd-close",this);e.on("key",this._close,e.config.doc.body,"down:27",this,"escape")},_initSurfer:function(h){this.get("boundingBox").removeClass("hide");e.one("html").addClass(d);var g=e.merge(this.sconf,{datamodel:this.get("datamodel"),strings:this.get("strings")},this.get("surferNodes"));if(e.Lang.isNumber(h)){g=e.merge(g,{curPos:h})}if(this.tb){g=e.merge(g,{fromOverlay:true})}if(this.history){g=e.merge(g,{history:this.history})}else{g=e.merge(g,{disableHistory:this.get("disableHistory")})}this.surfer=new e.MMSearch.VideoSurfer(g);this.surfer.render("#vsycdeck .vpod");this._bindSurfer()},_bindFullScreen:function(){this.unplug("fullscreen");this.plug(e.MMSearch.FullScreenPlugin,{activateNode:e.one("#on-fscr"),cancelNode:e.one("#off-fscr")});var g=this.surfer;this.fullscreen.on("fullScreenChange",e.bind(function(h){g.set("fullScreenMode",h.active);if(h.active){g._sendBeac("view_full")}else{g._sendBeac("exit_full")}g._onResize(false,"resize")},this))},_bindIdleTimer:function(){var h=e.one(this.get("surferNodes").prvNode),g=e.one(this.get("surferNodes").nxtNode);this.unplug("idle");this.plug(e.MMSearch.IdlePlugin,{nodes:[{node:h,idle:{left:"-55px"},active:{left:"0px"}},{node:g,idle:{right:"-55px"},active:{right:"0px"}}]})},_resetSearchBox:function(){e.one(a).set("value",this._htmlDecode(this.get("query")));e.one(b).show()},_htmlDecode:function(g){var h=e.Node.create("<div></div>");return h.setContent(g).get("text")},_bindSurfer:function(){if(!this.bound){this.unplug("rreco");this.plug(e.MMSearch.RightRailRecoPlugin,{strings:this.get("strings"),url:this.sconf.recoUrl,searchbox:a,boundingNode:".vsycwrap .trecw",contentNode:".vsycwrap .trec-content",sbclear:b});if(this.sconf.gossipUrl){var g=e.one(a);g.unplug("sap");g.plug(e.MMSearch.SearchAssistPlugin,{source:this.sconf.gossipUrl,align:{node:"#qsform",points:["tl","bl"]},preventDef:true,cssAsset:this.sconf.gossipCss,jsAsset:this.sconf.gossipJs})}this._bindIdleTimer();this.bound=true}this._bindFullScreen();if(this.sconf.enableVRec){this.surfer.plug(e.MMSearch.VideoReco,{ajaxUrl:this.sconf.vRecURL,modViewUrl:this.sconf.vRecMvURL})}this.surfer.plug(e.MMSearch.RightRailVideoPlugin,{boundingBox:"#vsycdeck",contentBox:"#qs",toggleButton:".vsycwrap .srch-toggle",mask:".vsycwrap .card-mask",searchbox:a});this.surfer.plug(e.MMSearch.RightRailResultsPlugin,{strings:this.get("strings"),qsResUrl:this.sconf.qsResUrl,lazyload:this.sconf.lazyload,searchbox:a});this.surfer.on("close",this._close,this)},_open:function(g){var h=0;if(g){g.preventDefault();if(g.currentTarget.one("a")){var h=parseInt(g.currentTarget.one("a").getAttribute("data-pos"));if(isNaN(h)){h=0}}}this.yoff=e.config.doc.body.scrollTop||e.config.doc.documentElement.scrollTop;this.get("nodeToHide").setStyle("visibility","hidden");this.histhandle&&this.histhandle.detach();this._resetSearchBox();this._initSurfer(h)},_close:function(g,h){if(!this.surfer){return}if(g){g.preventDefault();if(h&&h=="escape"){this.surfer._sendBeac("close_esc")}else{this.surfer._sendBeac("close")}}this.get("nodeToHide").setStyle("visibility","visible");this.get("boundingBox").addClass("hide");this.surfer.destroy();this.surfer=null;if(this.get("boundingBox").one(".surfer")){this.get("boundingBox").one(".surfer").remove(true)}e.one("html").removeClass(d);e.fire("resetDM");e.config.win.scrollTo(0,this.yoff);if(this.history){this.histhandle=e.on("history:change",this._handleHistChange,this);this.history.addValue("index",-9999,{title:this.srpTit,url:this.origUrl});e.config.doc.title=this.srpTit}},_handleHistChange:function(g){if(g.changed.index&&g.changed.index.newVal!=-9999){this.get("nodeToHide").setStyle("visibility","hidden");this.get("boundingBox").show();this.histhandle&&this.histhandle.detach();this._initSurfer(g.changed.index.newVal)}},BOUNDING_TEMPLATE:'<div id="vsycdeck" class="mmwrap vsycwrap hide"></div>',INNER_TEMPLATE:'<div id="vsyc-playpod" class="mm-playpod"><div class="mmpod vpod"><div class="card-mask"></div><div class="card-btns"><a class="cd-close btn" href="#" title="{s1}"></a><button class="fscr btn" id="on-fscr" title="{s5}"></button><button class="fscr btn" id="off-fscr" title="{s4}"></button><button class="srch-toggle btn" title="{s6}"></button></div><div class="mm-nav"><a href="#" class="mmnext"></a><a href="#" class="mmprev"></a></div></div></div><div id="qs" class="card-r vsyc-sidebar"><div class="mm-hdr"><a href="/"><s class="logo-ico"></s><h2 class="heading">{s0}</h1></a><div class="card-btns"><a class="cd-close btn" href="#" title="{s1}"> </a></div></div><div class="mmsbx"><form id="qsform" name="qsform" action="{actionUrl}"><input type="text" id="vsyc-yschsp" name="p" class="qstext" autocomplete="off" value=""><input type="submit" value="" id="sbx_x" class="qsb mg"></form><s class="sbxclr"></s></div><div id="qsloading" class="qsl visually-hidden"><span class="loader"></span></div><div id="upnext" class="nojs"><ol><li class="vr view"><a class="res shine ygbt" target="_top" title="{s3}" href="{srpUrl}">{s3}</a></li><li class="vr show"><a class="res shine ygbt" target="_top" title="{s2}" href="#">{s2}</a></li></ol></div><div id="qsr"><ol></ol></div><div class="trecw sa-hidden"><div class="trec-content"></div></div></div>',CONTENT_TEMPLATE:null});e.namespace("MMSearch").SurferAppVideo=c},"3.1.0",{requires:["widget-base","fullscreen-plugin","surfer-video","right-rail-video","event","right-rail-results","right-rail-reco","idle-timer-plugin","get","vrec","mmsearch-assist-plugin","surfer-datamodel"]});YUI.add("right-rail-video",function(b){function a(){a.superclass.constructor.apply(this,arguments)}a.ATTRS={};a.NAME="right-rail-video";a.NS="rrailv";b.extend(a,b.MMSearch.RightRailPlugin,{_onHostResize:function(c){if(c&&(c.src&&c.src=="orient")||!b.UA.android){this._closeRightRail()}if(b.DOM.viewportRegion().width<1220){this.bb.addClass("narrow");this.cb.setStyle("right","-"+this.rrwidth+"px")}else{this.bb.removeClass("narrow");this.cb.setStyle("right","0")}}});b.namespace("MMSearch").RightRailVideoPlugin=a},"1.0.0",{requires:["right-rail"]});YUI.add("right-rail-results",function(b){function a(){a.superclass.constructor.apply(this,arguments)}a.ATTRS={qsResUrl:{value:""},lazyload:{value:false},strings:{value:{zrp_msg:"We did not find results for <strong>{{q}}</strong>"}},searchbox:{setter:b.one},startIndex:{value:0}};a.NAME="right-rail-video";a.NS="rrailres";b.extend(a,b.Plugin.Base,{initializer:function(){this.surfer=this.get("host");this.qs=b.one("#qs");this.viewall=this.qs.one(".vr.view");this.showmore=this.qs.one(".vr.show");this.upn=b.one("#upnext");this.upnol=this.upn.one("ol");this.trecw=this.qs.one(".trecw");this.qsr=b.one("#qsr");this.qsrol=this.qsr.one("ol");this.qsl=b.one("#qsloading");if(b.UA.ie&&b.UA.ie<=7){this.rightResH=151}else{this.rightResH=153}this.compiled=b.Template.Micro.compile(b.one("#template-qs").getHTML());var c=this.resNode=(b.UA.ie&&b.UA.ie<=7)?this.upnol:this.upn;if(this.surfer.io.hasMore()){this.viewall&&this.viewall.hide();this.showmore&&this.showmore.show()}else{this.viewall&&this.viewall.show();this.showmore&&this.showmore.hide()}if(!this.upnol.one("li a.vg")){this._createRightRailUpNext(this.surfer._low,this.surfer._high)}this.upn.removeClass("nojs");if(this.get("lazyload")){b.use("lazy-load-plugin",function(d){c.plug(d.Plugin.LazyLoadPlugin,{selector:"lzi",parent:"li"})})}this._events=[];this._bindUI();this._onHostResize();this._onHostItemChange()},destructor:function(){b.Array.each(this._events||[],function(c){c.detach()},this);this._events=[];this._cleanRightRailUpNext()},_bindUI:function(){var c=this;c._events.push(b.delegate("click",c._onResClick,this.upn,"li a.vg",c));c._events.push(c.showmore.on("click",c._loadMoreResults,c));c._events.push(b.delegate("click",c._getQSResults,"#qsform",".yui3-aclist li a",c));c._events.push(b.one("#qsform").on("submit",c._getQSResults,c));this.onHostEvent("data",this._onHostOnData);this.afterHostMethod("_resizeContents",this._onHostResize);this.onHostEvent("itemChange",this._onHostItemChange)},_onHostItemChange:function(){this.qsr.hide();this.upn.show();if(this.surfer.current<0){var c=(this.surfer.get("offset")+this.surfer.current+1)*this.rightResH}else{if(this.get("startIndex")!=0){var c=(this.surfer.get("offset")+(this.surfer.current-this.surfer.b))*this.rightResH}else{var c=(this.surfer.get("offset")+(this.surfer.current-this.surfer.b+1))*this.rightResH}}this.resNode.set("scrollTop",c);this.get("lazyload")&&b.Global.fire("refresh-lazy-load")},_onHostOnData:function(c){if(c.m.first==1){this._cleanRightRailUpNext()}this._addRightRailResults(c.results,c.forward)},_createRightRailUpNext:function(g,c){for(var d=g;d<=c;d++){var e=this.surfer.io._items[d];if(e){e.sr=this.surfer.get("sr");e.latest=this.surfer.get("latest");node=this._createResult(e,d);this.upnol.insertBefore(node,this.viewall)}}if(!this.surfer.io.hasMore()){this.showmore.hide();this.viewall&&this.viewall.show()}else{this.showmore.show()}},_cleanRightRailUpNext:function(){this.upnol.all(".vr").each(function(c){if(!c.hasClass("view")&&!c.hasClass("show")){c.remove(true)}})},_loadMoreResults:function(h){h.preventDefault();this.surfer._syncBoundaries();var j=b.one(b.config.doc.createDocumentFragment()),c=b.Node.create('<li class="vr proxy"><span class="vg"></span></li>');for(var d=0;d<5;d++){j.append(c.cloneNode(true))}this.upnol.insertBefore(j,this.viewall);this.showmore.hide();var g=this.surfer._data(this.surfer._high-1,0)},_onHostResize:function(){var c=this.surfer.height;if(b.UA.ie&&b.UA.ie<=7){this.upnol.setStyle("height",(c-107)+"px");this.qsrol.setStyle("height",(c-107)+"px")}this.upn.setStyle("height",(c-107)+"px");this.qsr.setStyle("height",(c-107)+"px");this.trecw.setStyle("height",(c-107)+"px");this.qs.setStyle("height",c+"px")},_onResClick:function(d){d.preventDefault();var c=d.currentTarget.ancestor("li");var g=parseInt(c.getAttribute("data-id"));if(b.Lang.isNumber(g)){this.surfer._moveTo(g)}this.surfer._sendBeac("qs_upnext")},_getQSResults:function(g){g.preventDefault();var d=b.Lang.trim(this.get("searchbox").get("value"));if(d.length==0){return}b.fire("closeassist");this.upn.addClass("opacity");this.qsr.addClass("opacity");this.qsl.removeClass("visually-hidden");var c=this.get("qsResUrl")+"&p="+encodeURIComponent(d);b.jsonp(c+"&callback={callback}",{on:{success:function(e){this._updateRightRailQuickSearch(e);this.upn.removeClass("opacity");this.qsr.removeClass("opacity");this.qsl.addClass("visually-hidden");!b.UA.ie&&b.fire("closeassist")}},context:this})},_updateRightRailQuickSearch:function(e){var g=e.results,m=g.meta,c=e.sr;this.qsrol.set("innerHTML","");if(!m.count){if(e.adult){var d=e.adult;var j='<li><p class="czrp">'+d.message.replace("{{q}}",e.q)+"</p>";if(d.showss){j+='<p class="csso"><a target="_top" href="'+d.srpUrl+'" title="'+d.off+'">'+d.of;f+"</a></p>"}j+="</li>"}else{var j='<li><p class="czrp">'+this.get("strings").zrp_msg.replace("{{q}}",e.q)+"</p></li>"}this.qsrol.set("innerHTML",j)}for(var h=0;h<m.count;h++){var k=g.content[h];if(k){k.sr=c;node=this._createResult(k,h);this.qsrol.append(node)}}if(m.total){var l=this.viewall.one("a").getAttribute("title");this.qsrol.append(b.Node.create('<li class="vr view"><a class="res shine ygbt" target="_top" href="'+e.qsSrpURL+'" title="'+l+'">'+l+"</a></li>"))}this.qsr.setStyle("display","block");this.upn.hide();this.qsr.set("scrollTop",0)},_createResult:function(h,e){e=e||h.pos;var g=b.Node.create('<li class="vr" data-id="'+e+'">'+this.compiled(h)+"</li>");var c=g.one("img");if(c){var d=b.MMSearch.VideoSurferUtil.normalizeThumbnail(145,255,h.h,h.w);c.setAttribute("height",d.height);c.setAttribute("width",d.width);d.padding!=""&&c.setStyle("padding",d.padding);d.marginTop&&c.setStyle("marginTop",d.marginTop);d.top&&c.setStyle("top",d.top)}return g},_addRightRailResults:function(d,c){this.upnol.all(".proxy").each(function(g){g.remove(true)});var e=b.one(b.config.doc.createDocumentFragment());b.each(d,function(h,g){h.sr=this.surfer.get("sr");h.latest=this.surfer.get("latest");node=this._createResult(h);e.append(node)},this);if(c){this.upnol.insertBefore(e,this.viewall)}else{this.upnol.prepend(e)}if(!this.surfer.io.hasMore()){this.showmore.hide();this.viewall&&this.viewall.show()}else{this.showmore.show();this.viewall&&this.viewall.hide()}if(!c){this._onHostItemChange()}}});b.namespace("MMSearch").RightRailResultsPlugin=a},"1.0.0",{requires:["surfer-video","plugin"]});(function(s){s.parseJSON=function(filter){var j;function walk(k,v){var i,n;if(v&&typeof v==="object"){for(i in v){if(Object.prototype.hasOwnProperty.apply(v,[i])){n=walk(i,v[i]);if(n!==undefined){v[i]=n}}}}return filter(k,v)}if(/^[\],:{}\s]*$/.test(this.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(:?[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+this+")");return typeof filter==="function"?walk("",j):j}throw new SyntaxError("parseJSON")}})(String.prototype);var NewSiteApplication=function(){return function(){this.initialize.apply(this,arguments)}}();NewSiteApplication.prototype={initialize:function(){this.comps=[];this.obs={};this.addedElements={};this._readyEventFired=false;this._playerContainerName=null;this._responseJSON=null;this.componentJSON=null;this.configJSON=null;this.queryString=null;this.onLoadCallbacks=[];this._partnerGuid=null;this._defaultClipId=null;this._prefix="NS_";this._flashEmbedPrefix="NS_FLASH_";this._PIDLength=32;this._scriptTagId="NS_GUID_JS";this._guidURLParam="guid";this._jsonServiceTimeoutID=null;this._jsonServiceTimeoutLength=10000;this.DEBUG=false;this.LOGGER=null;this.VERSION="$Id: hulu_global.js,v 1.2 2007/10/24 00:23:06 jqyao Exp $";this._proxyUrlJSON="/hulu_proxy/";if(!window.opera&&document.all){this.unloadSet=false;if(!this.unloadSet){window.attachEvent("onbeforeunload",this._prepUnload);this.unloadSet=true}}},_prepUnload:function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};var b=function(){var g=document.getElementsByTagName("OBJECT");for(var e=g.length-1;e>=0;e--){g[e].style.display="none";for(var a in g[e]){if(typeof g[e][a]=="function"){g[e][a]=function(){}}}}};window.attachEvent("onunload",b)},run:function(c){var b=this;this._jsonServiceTimeoutID=window.setTimeout(function(){b.fireJSONError(b)},b._jsonServiceTimeoutLength);b.proxyUrl=c;this.loadComponentJson()},loadComponentJson:function(){var a=this;Y.use("jsonp",function(b){b.jsonp(a.proxyUrl,c)});function c(b){if(b.components){NewSite.loadComponents(b)}}},ping:function(){return true},fireJSONError:function(d){var c={code:"NS_JS_001",type:"JSON",displayMessage:"Page components failed to load.",description:"Page component JSON service timed out."};d.updateObservers("newsiteError",c)},registerReady:function(e){this.traceMsg("registerReady: "+e);if(this.addedElements[e]){this.addedElements[e].isReady=true}if(e=="videoPlayerComponent"||this.isComponentReady("videoPlayerComponent")){for(var g in this.addedElements){var d=this.addedElements[g];if(d.isReady&&!d.isTracked){this.videoPlayerComponent.trackComponent([d.trackingInfo]);d.isTracked=true}}}this.fireReady(e)},getComponents:function(){return this.componentJSON},isComponentReady:function(d){try{return this.addedElements[d].isReady}catch(c){}return false},loadComponents:function(k){clearTimeout(this._jsonServiceTimeoutID);var m=this;try{if(k.error){window.setTimeout(function(){m.fireJSONError(m);m.reportError("Service error: "+k.error.errorMessage)},500)}this._responseJSON=k;var o=this.componentJSON=this._responseJSON.components;var p=this.configJSON=this._responseJSON.config;for(var j in o){var l=o[j];var e=this.initializeComponent(j,l);if(this.EL(j)){e=this.addComponentToDom(e)}this.extendComponent(e);this.comps.push(j)}}catch(n){this.reportError(n,"loadComponents")}},initializeComponent:function(d,c){return this[d]={instance:null,compName:d,parent:this,options:c}},addComponentToDom:function(i){var g=i.compName;this.traceMsg("addComponentToDom: "+g);var e=i.options;if(this.EL(g)){var h=this._flashEmbedPrefix+g;if(!this.EL(h)){this.EL(g).innerHTML=this.getFlashTag(h,e);this.addedElements[g]={};this.addedElements[g].trackingInfo=this.getTrackingInfo(g,e);this.addedElements[g].isReady=false;this.addedElements[g].isTracked=false;i.instance=this.registerFlashObject(h)}}return i},extendComponent:function(c){var d=c.compName;this.extend(c,this["commonComponentMethods"]);if(this[d+"Methods"]){this.extend(c,this[d+"Methods"])}},registerFlashObject:function(c){var d=null;if(navigator.appName.indexOf("Microsoft")!=-1){d=window[c]}else{d=document[c]}return d?d:false},addListener:function(m,n,p){this.traceMsg("addListener: "+m+"\n<br>callbackObj "+n+"\n<br>callbackFunc "+p);n=this._stringToObject(n);if(!p){p=m}if(!this.obs[m]){this.obs[m]=[]}var k=this.obs[m];var e=k.length;for(var o=0;o<e;o++){try{if(k[o].obj&&k[o].obj==n&&k[o].func==p){throw"Addition of duplicate listener ignored."}}catch(l){this.reportError(l)}}var i;if(n&&n.id){i=n.id}else{i=n}this.traceMsg("addListener: "+m+"\n<br>callbackObj "+i+"\n<br>callbackFunc "+p);this.obs[m].push({obj:n,func:p});return m},addFlashListener:function(g,d,e){d=this.registerFlashObject(d);this.addListener(g,d,e)},removeListener:function(l,m,e){m=this._stringToObject(m);if(!e){e=l}this.traceMsg("removeListener:\ncallbackObj "+m+"\ncallbackFunc "+e);if(!this.obs[l]){return false}var j=this.obs[l];var i=j.length;for(var n=0;n<i;n++){try{if(j[n].obj&&j[n].obj==m&&j[n].func==e){return j.splice(n,1)}}catch(k){this.reportError(k)}}return false},updateObservers:function(p,n){this.traceMsg("updateObservers : eventType "+p+" "+n);var k=this.obs[p];if(!k){return}var i=k.length;for(var e=0;e<i;e++){try{var l=this._stringToObject(k[e].obj);var o=k[e].func;if(l&&o){if(typeof l!="object"){throw"Object missing: "+l}if(o==undefined||o==null){o=p}if(typeof l[o]=="function"){l[o](n)}else{l.toComponent(o,n)}}}catch(m){this.reportError(m,"updateObservers("+p+")")}}},_stringToObject:function(i){var j;if(typeof i=="string"){var g=i.split(".");var c=0;while(g.length>0){var h=g.shift();if(!c++){j=window[h]}else{j=j[h]}}if(j){return j}}return i},setPlayerContainer:function(b){this.traceMsg("setPlayerContainer : "+b);if(this.EL(b)){this._playerContainerName=b;return b}return null},getPlayerContainerName:function(){return this._playerContainerName},setDefaultClipId:function(b){this._defaultClipId=b},getDefaultClipId:function(){return this._defaultClipId},_parseVideoId:function(c){try{c=c+"";c=c.replace(/.*pid=([^&]+).*/i,"$1");if(c.length!=this._PIDLength){throw"Invalid Video PID: "+c}}catch(d){this.reportError(d,"")}return c},getNPMLObject:function(){return this._responseJSON},EL:function(b){if(typeof b=="string"){b=document.getElementById(b)}return b},extend:function(d,g){for(var e in g){d[e]=g[e]}return d},readyEventFired:function(){return this._readyEventFired},fireReady:function(b){this.traceMsg("fireReady: "+b);if(!this.readyEventFired()){if(this.allComponentsReady()){this.updateObservers("newsiteReady",{});this._readyEventFired=true;this.onComponentsLoaded();YUI().use("event-custom",function(a){a.Global.fire("huluplayer:ready")})}}},allComponentsReady:function(){this.traceMsg("allComponentsReady?");for(var b in this.addedElements){if(this.addedElements[b].isReady==false){return false}}return true},onComponentsLoaded:function(){while(this.onLoadCallbacks.length>0){var c=this.onLoadCallbacks.pop();try{if(c){c()}}catch(d){this.reportError(d)}}},onLoad:function(b){this.onLoadCallbacks.push(b)},getEnvironment:function(){var i=this.getQueryString();var m=document.referrer;var e=document.URL;var o=navigator.userAgent;var n={queryString:i,referrer:m,url:e,userAgent:o};var k=["availHeight","availWidth","colorDepth","height","width"];for(var p=0;p<k.length;p++){var l=k[p];n[l]=screen[l]}return n},getTrackingInfo:function(g,e){try{var h={};h.componentName=g;h.url=document.URL;h.pixelArea=e.width*e.height;h.version=1}catch(i){this.reportError(i)}return h},getFlashTag:function(i,g){var j=this.getFlashBuilder();j.setId(i);j.setAttributes(g);var k=(navigator.appName.indexOf("Microsoft")!=-1);var h=k?j.getObjectTag():j.getEmbedTag();j.cleanup();delete j;return h},getFlashBuilder:function(){var b={errorHandler:null,id:"",attributes:[],allowedAttributes:{width:{req:true,def:null},height:{req:true,def:null},url:{req:true,def:null},wmode:{req:false,def:"transparent"},bgcolor:{req:false,def:"#000000"},allowScriptAccess:{req:false,def:"always"},allowFullScreen:{req:false,def:"true"},menu:{req:false,def:"false"}},setId:function(a){this.id=a},getId:function(){return this.id},setErrorHandler:function(a){this.errorHandler=a},setAttributes:function(a){for(var d in a){this.setAttribute(d,a[d])}},setAttribute:function(a,d){this.attributes[a]=d},getAttribute:function(a){return this.attributes[a]||this.getDefaultValue(a)||false},getAllowedAttributes:function(){return this.allowedAttributes},isRequired:function(d){var a=this.allowedAttributes[d];return a&&a.req?true:false},getDefaultValue:function(d){var a=this.allowedAttributes[d];return a&&a.def||null},getEmbedTag:function(){try{var e=this.getId();var a='<embed quality="high" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" ';a+='name="'+e+'" id="'+e+'" ';var i=this.getAllowedAttributes();for(var l in i){var k=this.getAttribute(l);if(this.isRequired(l)&&!this.getAttribute(l)){throw"Missing required attribute for "+e+": "+l}if(l.toLowerCase()=="url"){l="src"}if(l.toLowerCase()=="bgcolor"){k=this.getDefaultValue(l)}if(l.toLowerCase()=="wmode"){k="transparent"}if(l.toLowerCase()=="width"||l.toLowerCase()=="height"){k="100%"}a+=l+'="'+k+'" '}a+="></embed>"}catch(j){this.handleError(j);return""}return a},getObjectTag:function(){try{var e=this.getAllowedAttributes();var a='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" ';a+='name="'+this.getId()+'" id="'+this.getId()+'" ';a+='width="100%" height="100%"><param name="quality" value="high" wmode="transparent" />';for(var j in e){var i=this.getAttribute(j);if(this.isRequired(j)&&!this.getAttribute(j)){throw"Missing required attribute: "+j}if(j.toLowerCase()!="width"&&j.toLowerCase()!="height"){if(j.toLowerCase()=="url"){j="movie"}if(j.toLowerCase()=="wmode"){i="transparent"}a+='<param name="'+j+'" value="'+i+'" />'}}a+="</object>"}catch(h){this.handleError(h);return""}return a},handleError:function(a){if(this.errorHandler!=null){this.errorHandler(a)}},cleanup:function(){this.errorHandler=null;for(var a in this){this[a]=null}}};b.setErrorHandler(this.reportError);return b},hideAllComponents:function(){try{var e=this.comps.length;for(var d=0;d<e;d++){this[this.comps[d]].hide()}}catch(g){}},showAllComponents:function(){try{var e=this.comps.length;for(var d=0;d<e;d++){this[this.comps[d]].show()}}catch(g){}},pingImgUrl:function(i){try{var g=Math.random()+"";g.replace(/\./g,"");var e=document.createElement("IMG");e.width=1;e.height=1;e.src=i;e.id=g;e.onload=e.onerror=function(){var a=this.parentNode.removeChild(this);delete a};document.body.appendChild(e)}catch(h){}},reportError:function(j,h){try{var e=NewSite;if(!e.DEBUG||!e.LOGGER){return false}if(navigator.appName.indexOf("Microsoft")!=-1){msg=j.message+"\n"+j.name+"\n"+j.number+"\n"+j.description+"\n"}else{msg=j}if(h){msg=h+"\n\n"+msg}var i=new Date().getMilliseconds();var d=document.createElement("P");d.style.backgroundColor="red;";d.style.color="white";d.innerHTML=i+": Error caught: \n\n"+msg;e.LOGGER.insertBefore(d,e.LOGGER.firstChild)}catch(j){}},traceMsg:function(h,i){try{if(!this.DEBUG||!this.LOGGER){return false}if(i){h=i+"\n\n"+h}var j=new Date().getMilliseconds();var d=document.createElement("P");d.innerHTML=j+": Trace: \n\n"+h;this.LOGGER.insertBefore(d,this.LOGGER.firstChild)}catch(e){}},getTimer:function(){}};NewSiteApplication.prototype.commonComponentMethods={show:function(){var d=this.getInstance();try{d.width=this.options.width;d.height=this.options.height}catch(c){}this.toComponent("show")},hide:function(){var d=this.getInstance();try{d.width=1;d.height=1}catch(c){}this.toComponent("hide")},getFlashMethod:function(b){if(!this.parent){return b}return this.parent._prefix+this.compName+"_"+b},info:{},getInfo:function(){return this.info},setInfo:function(b){this.info=b},getInstance:function(){return this.instance},toComponent:function(l,i){try{var e=this.parent;var h=this.getInstance();var k=this.getFlashMethod(l);if(typeof h[k]=="function"){h[k](i);e.traceMsg("toComponent("+k+")")}else{if(typeof h[l]=="function"){h[l](i);e.traceMsg("toComponent("+l+")")}else{if(typeof h.toFlash=="function"){h.toFlash(l,i);e.traceMsg("toComponent.toFlash("+l+")")}else{throw"Function not found"}}}}catch(j){e.reportError(j,"NewSiteApplication.toComponent<br>"+l+"<br>"+k+"<br>"+h)}}};NewSiteApplication.prototype.videoPlayerComponentMethods={properties:{},playVideo:function(c,d){c=this.parent._parseVideoId(c);this.toComponent("playVideo",c)},pauseVideo:function(){this.toComponent("pauseVideo")},stopVideo:function(){this.toComponent("stopVideo")},resumeVideo:function(){this.toComponent("resumeVideo")},next:function(){this.toComponent("nextVideo")},previous:function(){this.toComponent("previousVideo")},seek:function(b){this.toComponent("seekVideo",b)},getProperty:function(b){return this.properties[b]},getProperties:function(){return this.properties},setProperties:function(c){for(var d in c){this.properties[d]=c[d]}},mute:function(){this.toComponent("muteVideo")},setVolume:function(b){this.toComponent("setPlayerVolume",b)},trackComponent:function(b){this.toComponent("trackComponent",b)},submitToUrl:function(b){this.toComponent("submitToUrl",b)},closeConnection:function(){this.toComponent("closeConnection")},getInstance:function(){if(!this.instance){this.instance=this.parent.registerFlashObject(this.parent.getPlayerContainerName())}return this.instance}};NewSiteApplication.prototype.linkComponentMethods={newLink:function(b){this.setInfo(b);this.toComponent("newLink",b)}};NewSiteApplication.prototype.logoComponentMethods={};NewSiteApplication.prototype.adComponentMethods={videoAdBegin:function(b){this.setInfo(b);this.toComponent("videoAdBegin",b)}};NewSiteApplication.prototype.metadataComponentMethods={videoMetadata:function(b){this.setInfo(b);this.toComponent("videoMetadata",b)}};NewSiteApplication.prototype.relatedVideosComponentMethods={relatedVideos:function(b){this.setInfo(b);this.toComponent("relatedVideos",b)}};YUI.add("player-hulu",function(b){var c="contentNode";function a(d){a.superclass.constructor.apply(this,arguments)}a.NAME="playerHulu";a.ATTRS={contentNode:{setter:b.one},pid:{value:""},proxy:{value:""},position:{value:null},vid:{value:null},superplr:{value:null}};b.extend(a,b.Base,{initializer:function(){this.playerNode=b.Node.create('<div class="ppod"><div id="videoPlayerComponent"></div></div>');this.get(c).setContent(this.playerNode);b.Global.on("huluplayer:ready",b.bind(this._play,this));delete NewSite;NewSite=new NewSiteApplication;this.embedPlayer=NewSite;this.embedPlayer.run(this.get("proxy"))},_play:function(){var g=this,e=g.embedPlayer,d={cI:g.get("position"),eid:g.get("pid"),fr:"hulu",cV:g.get("vid")};g.embedPlayer.videoPlayerComponent.playVideo(g.get("pid"));e.videoComplete=function(h){if(h=="clip"){b.fire("onPlaybackComplete",d)}};e.videoError=function(i){if(i=="player_ready"){b.fire("onPlaybackStart",d)}else{if(i=="error"||i=="player_error"){var h=g.get("superplr");h&&h.fireError("hulu",i);b.later(1500,this,function(){b.fire("onPlaybackComplete",d)})}}};e.addListener("videoComplete",e,"videoComplete");e.addListener("playerStateChange",e,"videoError")},destructor:function(){if(this.embedPlayer&&this.embedPlayer.videoPlayerComponent){this.embedPlayer.videoPlayerComponent.stopVideo()}delete NewSite}});b.namespace("MMSearch").PlayerHulu=a},"1.0.0",{requires:["event","base","node","event-custom"]});YUI.add("player-vsyc",function(b){function a(c){a.superclass.constructor.apply(this,arguments)}a.NAME="player_vsyc";a.NS="plr";a.ATTRS={plrcode:{value:2},htag:{value:"embed"},eurl:{value:""},fv:{value:""},domain:{value:""},pid:{value:""},eid:{value:""},yepUrl:{value:null},hulUrl:{value:null},enableApi:{value:false},yep:{value:{region:"us",locale:"en-US",yvapAccountId:389,spaceid:1197672460}},position:{value:null},vid:{value:null},ono404Url:{value:"http://video.search.yahoo.com/cl"},yepjs:{value:""}};b.extend(a,b.Plugin.Base,{initializer:function(c){this.height=this.width="100%";if(this.get("domain")=="godtube.com"&&b.one(".playpod")){var d=b.one(".card-a").get("region");this.height=Math.min(448,d.height);this.width=Math.min(718,(d.width-60))}},destructor:function(){this.player&&this.player.destroy();if(this.playerNode){if(this.playerNode.one("iframe")){try{var d=this.playerNode.one("iframe");d.setAttribute("src","");d.remove(true);this.playerNode.remove(true)}catch(c){}}else{this.playerNode.all("object").each(function(g){try{g.remove(true)}catch(e){}});this.playerNode.remove(true)}}},renderPlayer:function(){var c=this;c.playerNode=null;c.plid=b.guid();switch(c.get("plrcode")){case 1:if(c.get("yepUrl")){c.renderYEPProxy()}else{if(c.get("yepjs")){b.Get.script(c.get("yepjs"),{onSuccess:function(){b.Search.use("videoplayer",function(d){c.renderYEPPlayer()})}})}else{b.use("videoplayer",function(d){c.renderYEPPlayer()})}}break;case 2:case 4:case 5:c.renderThirdPartyPlayer();break;case 3:c.renderHuluPlayer();break;case 6:break}},renderYEPPlayer:function(){var j=this,g=j.get("yep");j.playerNode=b.Node.create('<div id="'+j.plid+'" class="ppod"></div>');j.get("host").setHTML(j.playerNode);j.player=new b.VideoPlatform.VideoPlayer({pageSpaceId:g.spaceid,comscoreC4:"YVS",continuousPlay:false,ybang:false,lang:g.locale,autoplay:true,mute:false,region:g.region.toUpperCase(),YVAP:{accountId:g.yvapAccountId},playlist:{mediaItems:[{id:j.get("pid")}]}});var i=function(m,l){var k=b.one(".yui3-videoplayer-errorscreen-desc");if(k&&k.getContent().indexOf("experiencing technical difficulties")>=0){l="td"}this.fireError("screen",l);b.later(1500,j,function(){c(m,1)})};var h=j.player;var c=function(l,k){b.fire("onPlaybackComplete",{cI:j.get("position"),plrobj:h,fr:"yep3",err:k,cV:j.get("vid")})};var e=function(k){b.fire("onPlaybackStart",{cI:j.get("position"),fr:"yep3",cV:j.get("vid")})};var d=b.VideoPlatform.API_Events;j.player.on(d.PLAYER_ERROR,i,j,"pe");j.player.on(d.PLAYBACK_ERROR,i,j,"pbe");j.player.on(d.PLAYBACK_COMPLETE,c,j,0);j.player.on(d.PLAYBACK_READY,e);j.player.render(j.playerNode)},fireError:function(i,h){var g=this,e=g.get("yep");var d=g.get("ono404Url")+"?locale="+e.locale+"&pid="+g.get("pid")+"&region="+e.region+"&ertype="+h+"&magic="+(new Date()).getTime();if(i=="screen"){d+="&pltype=screen&player=yep3"}else{if(i=="hulu"){d+="&eid="+g.get("eid")+"&pltype=hulu"}}var c=new Image();c.src=d},renderYEPProxy:function(){var d=this.get("yepUrl")+"&pid="+this.get("pid");var c=(b.UA.ie&&b.UA.ie==6);this.playerNode=b.Node.create('<div class="ppod"'+(!c?'style="visibility:hidden;':"")+'"><iframe id="'+this.plid+'" src="'+d+'" frameborder=0 width="'+this.width+'" height="'+this.height+'" scrolling="no"></iframe></div>');if(!c){this.playerNode.one("iframe").on("load",function(g){this.playerNode.setAttribute("style","");this.playerNode.removeAttribute("style")},this)}this.get("host").setHTML(this.playerNode)},renderHuluPlayer:function(){this.player=new b.MMSearch.PlayerHulu({contentNode:this.get("host"),pid:this.get("eid"),proxy:this.get("hulUrl"),position:this.get("position"),vid:this.get("vid"),superplr:this})},renderThirdPartyPlayer:function(){switch(this.get("htag")){case"iframe":this._renderIframe();break;case"object":this._renderObjectTag();break;default:this._renderEmbedTag();break}},_renderIframe:function(){this.playerNode=b.Node.create('<div class="ppod"><iframe id="'+this.plid+'" src="'+this.get("eurl")+'" frameborder=0 width="'+this.width+'" height="'+this.height+'" scrolling="no"></iframe></div>');this.get("host").setHTML(this.playerNode)},_renderEmbedTag:function(){var i=this,h=i.get("eurl"),e=i.get("domain"),g=["youtube.com","dailymotion.com","ehow.com"],d=(b.Array.indexOf(g,e)==-1)?"":' allowScriptAccess="always"';if(i.get("enableApi")){if(e=="dailymotion.com"){h+="&playerapiid="+i.plid}else{if(e=="youtube.com"){h+="&playerapiid="+i.plid+"&enablejsapi=1&version=3"}}if(b.UA.ie&&(e=="youtube.com"||e=="dailymotion.com")){i.playerNode=b.Node.create('<div class="ppod"><div id="'+i.plid+'"></div></div>');i.get("host").setHTML(this.playerNode);var j={allowScriptAccess:"always",wmode:"transparent"};var k={id:i.plid};swfobject.embedSWF(h,i.plid,"100%","100%","8",null,null,j,k)}}if(!i.playerNode){var c=i.get("fv")?'flashvars="'+i.get("fv")+'"':"";i.playerNode=b.Node.create('<div class="ppod"><embed id="'+i.plid+'" src="'+h+'" type="application/x-shockwave-flash"'+c+' width="'+i.width+'" height="'+i.height+'" wmode="transparent"'+d+"></embed></div>");i.get("host").setHTML(this.playerNode)}},_renderObjectTag:function(){this.playerNode=b.Node.create('<div class="ppod">'+this.get("eurl")+"</div>");this.playerNode.setStyle("width",this.width);this.playerNode.setStyle("height",this.height);this.get("host").setHTML(this.playerNode)}});b.namespace("MMSearch").VideoDDPlayer=a},"1.0.0",{requires:["plugin","base","player-hulu","swfobj"]});YUI.add("vrec",function(i){var d=i.MMSearch.SurferUtil;function a(){a.superclass.constructor.apply(this,arguments)}a.NAME="vrec";a.NS="vrec";a.ATTRS={ajaxUrl:{value:"",writeOnce:true},modViewUrl:{value:"",writeOnce:true},strings:{value:{rpl:"Replay"}}};function h(k){var j=window;j.ytplayer=document.getElementById(k);j.ytplayer.addEventListener("onStateChange","onytplayerStateChange")}function g(j){this.firePlayerEvents(j,"yt")}function c(k){var j=window;j.dmplayer=document.getElementById(k);j.dmplayer.addEventListener("onStateChange","ondmplayerStateChange")}function b(j){this.firePlayerEvents(j,"dm")}function e(k,j){if(k==-1){i.fire("onPlaybackStart",{cI:window.vsyc_currIndex,fr:j,cV:window.vsyc_playingVid})}else{if(k==0){i.fire("onPlaybackComplete",{cI:window.vsyc_currIndex,fr:j,cV:window.vsyc_playingVid})}}}i.extend(a,i.Plugin.Base,{initializer:function(j){this.surfer=this.get("host");this.results=[];this.recovids=[];this.vctxt=[];this.imods=[];this.fetch=[];this.upnext=[];this.type=[];this.beac=[];this.count=[];this.ss=this.surfer.stylesheet;this.alignLayout();this._setUpPlayerApis();this.attachEvents(1);this.eattached=true;this.vrecData=[];this.upnstate=0;this._bindUI()},destructor:function(){this.detachEvents(1)},_mOver:function(l){var j=l.currentTarget.one(".stack");var k=l.currentTarget.one(".th-ico");j&&j.addClass("hov");k&&k.addClass("hov")},_mOut:function(l){var j=l.currentTarget.one(".stack");var k=l.currentTarget.one(".th-ico");j&&j.removeClass("hov");k&&k.removeClass("hov")},_setUpPlayerApis:function(){var j=window;j.onytplayerStateChange=this.onytplayerStateChange;j.onYouTubePlayerReady=this.onYouTubePlayerReady;j.onDailymotionPlayerReady=this.onDailymotionPlayerReady;j.ondmplayerStateChange=this.ondmplayerStateChange;j.firePlayerEvents=this.firePlayerEvents},_bindUI:function(){this.afterHostMethod("_resizeContents",this.alignLayout);this.afterHostMethod("setCurrentDesc",function(){if(this.surfer._cb.one(".vrec")){this.surfer._cb.one(".vrec").hide()}});this.onHostEvent("itemChange",this._onHostItemChange)},_onHostItemChange:function(j){if(this.upnstate==1&&j.index>j.prevIndex){this.upnstate=2}},_fetchRecommendations:function(k){var p=k.cV,r=this.surfer.io._items[k.cI],o=r.vid,l="search";var m=p;if(o!==p){r=this.vrecData[p];l="browse"}if(!i.Lang.isValue(this.fetch[m])&&!i.Lang.isValue(this.results[m])){this.fetch[m]=1;var q=(r.plr.plr!=2)?("&vt=hq"):("&des="+encodeURIComponent(r.des));var n=r.tit.replace(/&#39;/g,"'").replace(/&quot;/g,'"').replace("&amp;","&");var j=this.get("ajaxUrl")+"&nature="+l+"&vid="+r.vid+q+"&tit="+encodeURIComponent(n);if(r.lg){j+="&lang="+r.lg}i.jsonp(j+"&callback={callback}",{on:{success:this._onSuccess},context:this,args:[k]})}},_onSuccess:function(j,l){var k=l.cV;this.results[k]=j.html;this.vctxt[k]=(i.Lang.isValue(j.vctxt))?j.vctxt:"";this.imods[k]=(i.Lang.isValue(j.imods))?j.imods:"";this.upnext[k]=i.Lang.isValue(j.upnext)?j.upnext:false;this.recovids[k]=j.vids;if(i.Lang.isValue(j.results)){this.type[k]=j.results.t;this.count[k]=j.results.meta.count}else{this.type[k]="";this.count[k]=0}},_showRecommendations:function(n){if(!n||!i.Lang.isValue(n.cV)){return}var r=n.cV;if(this.results[r]){var s=this.surfer._cb.one("li.current"),u=this.surfer.io._items[n.cI];if(u.vid!=r){u=this.vrecData[r]}var l=this._getLiHtml(n.cI,r,true);if(this.upnext[r]&&this.upnext[r].render){var q=(this.upnstate<2)?2:4;this.upnext[r].count=0;this.upnext[r].mods="";var k="";for(var o=n.cI+1,m=0;o<n.cI+8;o++){var p=this._getLiHtml(o,r);if(p!==""){var u=this.surfer.io._items[o];this.upnext[r].count++;if(u.pid){this.upnext[r]["mods"]+='{"id":"'+u.pid+'","rule":"upnext"};'}else{this.upnext[r]["mods"]+='{"vid":"'+u.vid+'","rule":"upnext"};'}k+=p;m++;if(m==q){break}}}this.upnext[r].render=0;if(!this.upnstate){this.upnstate=1}this.results[r]=k+this.results[r]}this._sendModuleViewBeacon(r,u);var t=i.Node.create('<div class="vrec"><div class="vrec-ct"><h2>'+this.get("strings").pav+"</h2><ul>"+l+this.results[r]+"</ul></div></div>");s.one(".playpod").hide();if(s.one(".vrec")){s.one(".vrec").remove(true)}s.append(t);i.delegate("click",this._playVideo,t,"li .vg",this,s,n);i.delegate("hover",this._mOver,this._mOut,t,"li .vg")}else{if(i.Lang.isValue(n.err)&&n.err){i.later(1000,this,function(){if(window.vsyc_currIndex==n.cI){this._showRecommendations(n)}})}}},alignLayout:function(){if(!i.one(".card-m")){return}var m=parseInt(i.one(".card-m").getComputedStyle("width"))-130,y=[203,116],o=[245,140],s=[301,172],w=1,r=10,n=o[0],z=s[0],j=n;var u=Math.floor(m/(j+r+2));var k=Math.floor(m/(z+r+2));if(u<4){j=y[0];var u=Math.floor(m/(j+r+2))}var q=(u<w)?w:u;if(u>5){j=z;q=k}var l=2;var p=m-((q*(j+l))+(r*(q-1)));if(p>0){j+=Math.floor(p/q);if(j>z){j=z;if(q>1){var p=m-((q*(j+l))+(r*(q-1)));r+=Math.floor(p/(q-1))}}}this.cols=q;var x=Math.ceil(j*4/7);var t=parseInt(i.one(".vsycwrap .card").getComputedStyle("height"))-105;this.rows=Math.floor(t/(x+r));if(this.rows>3){this.rows=3}if(this.rows<1){this.ss.set(".vrec-ct",{visibility:"hidden"})}else{this.ss.set(".vrec-ct",{visibility:"visible"})}var v=this.rows*(x+r);this.ss.set(".vrec-ct",{height:v+"px",width:m+100+"px",marginTop:-v/2+"px"});this.ss.set(".vrec li .vg",{width:j+"px",height:x+"px",marginRight:r+"px",marginBottom:r+"px"});this.liwidth=j;this.liheight=x},_replay:function(o,l,n){var k=n.fr,j=window;var m=this.surfer.io._items[n.cI];if(m.vid!==window.vsyc_playingVid){m=this.vrecData[window.vsyc_playingVid]}if(!m){return}if(this.surfer.spotlight&&this.surfer.spotlight.plr){this.surfer.spotlight.plr.destroy();this.surfer.spotlight.setHTML("")}this.surfer.playVideo(false,m);l.one(".vrec").hide();l.one(".playpod")&&l.one(".playpod").show();i.Lang.isValue(this.beac[n.cV])&&this.beac[n.cV]["replay"]&&d.beacon(this.beac[n.cV]["replay"],true)},_fireClickBeac:function(l,m,k){var j=l.cV;if(!this.beac[j]){return}if(this.type[j]=="ono"){if(k=="vrec"&&this.beac[j].vrec&&this.beac[j].vrec[m]){d.beacon(this.beac[j].vrec[m],true)}else{if(k=="upn"&&this.beac[j].upn&&this.beac[j].upn[m]){d.beacon(this.beac[j].upn[m],true)}}}else{if(this.type[j]=="bing"){this.beac[j].bing&&d.beacon(this.beac[j].bing,true)}}},_playVideo:function(l,m,j){l.preventDefault();var k=l.currentTarget,n=k.get("parentNode");if(n.hasClass("replay")){this._replay(l,m,j);return}m.one(".vrec").hide();var q=j.cV;var p=k.getAttribute("data-pos");if(p){this.upnstate=2;p=parseInt(p);this.surfer._moveTo(p);var o=p-j.cI;this._fireClickBeac(j,o,"upn");this.surfer.playVideo(false);return}var r=i.JSON.parse(k.getAttribute("data"));r.url=k.getAttribute("href");r.l=(k.one(".dur"))?k.one(".dur").getContent():"";r.tit=(k.one(".stack h3"))?k.one(".stack h3").getContent():"";r.turl=(k.one("img").getAttribute("src"));r.des=r.d;r.d="";if(!r.m){r.m=""}this.vrecData[r.vid]=r;this.surfer.logPV(r,false);if(this.surfer.spotlight&&this.surfer.spotlight.plr){this.surfer.spotlight.plr.destroy()}this.surfer.playVideo(false,r);var o=r.pos;if(this.upnext[q]&&this.upnext[q].count){o+=this.upnext[q].count}this._fireClickBeac(j,o,"vrec");this.surfer.setCurrentDesc(r)},_getLiHtml:function(m,l,o){var s=this.surfer.io._items[m],p="";if(i.Lang.isValue(s)&&o&&s.vid!=l){s=this.vrecData[l]}if(s&&(o||(s.plr&&s.plr.plays&&s.plr.plr!=2&&s.plr.plr!=6&&!i.Lang.isValue(this.recovids[l][s.vid])))){var k='<span><h3 class="shadow">'+s.tit+'</h3></span><span class="bot"><span class="url">'+s.host+"</span>";if(s.l){k+='<span class="dur">'+s.l+"</span>"}k+="</span>";var q=i.MMSearch.VideoSurferUtil.normalizeThumbnail(this.liheight,this.liwidth,s.h,s.w);if(o){var j=" replay",r="",n=this.get("strings").rpl}else{var j="",r='data-pos="'+m+'"',n=""}p='<li class="vr'+j+'"><a href="'+(s.fpurl||s.url)+'" class="res vg" title="" '+r+'><img class="thm" src="'+s.turl+'" height="'+q.height+'" width="'+q.width+'" style="padding:'+q.padding+";margin-top:"+q.marginTop+";top:"+q.top+'"><span class="stack">'+k+'</span><span class="th-ico"><s class="vrplay"></s>'+n+"</span></a></li>"}return p},_sendModuleViewBeacon:function(k,m){var o=this;var j=o.get("modViewUrl")+"&vctxt="+encodeURIComponent(o.vctxt[k])+"&src=mv&rand="+(new Date()).getTime()+"&type="+o.type[k]+"&host="+m.host+"&vid="+m.vid+"&pstcat="+this.surfer.get("pstcat");var n="imods="+encodeURIComponent(o.imods[k]);var l=o.count[k];if(o.upnext[k]&&o.upnext[k].mods){n+="&upnmod="+encodeURIComponent(o.upnext[k].mods)+"&upncount="+o.upnext[k].count;l+=o.upnext[k].count}j+="&"+n;j+="&n="+Math.min((o.cols*o.rows)-1,l);i.jsonp(j+"&callback={callback}",{on:{success:function(p,q){this.beac[q]={};this.beac[q]["replay"]=p.r;this.beac[q]["vrec"]=i.Lang.isValue(p.vrec)?p.vrec:false;this.beac[q]["upn"]=i.Lang.isValue(p.upn)?p.upn:false;this.beac[q]["bing"]=i.Lang.isValue(p.bing)?p.bing:false}},context:o,args:[k]})},attachEvents:function(j){if(j){i.on("onPlaybackStart",i.bind(this._fetchRecommendations,this))}i.on("onPlaybackComplete",i.bind(this._showRecommendations,this))},detachEvents:function(j){if(j){i.detach("onPlaybackStart")}i.detach("onPlaybackComplete")},onYouTubePlayerReady:h,onytplayerStateChange:g,onDailymotionPlayerReady:c,ondmplayerStateChange:b,firePlayerEvents:e});i.namespace("MMSearch").VideoReco=a},"1.0.0",{requires:["plugin","base","json-parse","stylesheet","jsonp","jsonp-url","surfer-util","surfer-video","surfer-util-video"]});YUI.add("surfer-util-video",function(a){a.MMSearch.VideoSurferUtil={normalizeThumbnail:function(j,n,m,e){if(!a.Lang.isValue(m)){m=j}if(!a.Lang.isValue(e)){e=n}var d="0";var h=j/m;var l=n/e;var g=e/m;if(l<1&&h<1){return{padding:d,height:"100%",width:"100%",marginTop:0,top:0}}else{if(l>1&&h>1){if(e>m){m=Math.floor(l*m);if(m>j){m=j;e=Math.floor(h*e)}else{e=n}}else{e=Math.floor(h*e);if(e>n){e=n;m=Math.floor(l*m)}else{m=j}}}else{if(l<1){m=Math.floor(l*m);e=n}h=j/m;if(h<1){e=Math.floor(h*e);m=j}}height_diff=j-m;width_diff=n-e;pad_top=height_diff/2;pad_bottom=(height_diff%2>0)?(pad_top+1):pad_top;pad_left=Math.floor(width_diff/2);pad_right=(width_diff%2>0)?pad_left++:pad_left;var i=40,c=70,b=0;if(width_diff<75){e=n;m=e/g;pad_left=pad_right=0;b=-(width_diff/4)+"px"}if(pad_top&&(pad_top+pad_bottom)<i){m=j;pad_top=pad_bottom=0}if(pad_left&&(pad_left+pad_right)<c){e=n;pad_left=pad_right=0}if(pad_left||pad_right){d="0 "+Math.round(pad_right*100/n)+"% 0 "+Math.round(pad_left*100/n)+"%"}var k=0;if(pad_top){var k=Math.round(pad_top*100/j)+"%"}}return{padding:d,marginTop:b,top:k,height:(m*100/j)+"%",width:(e*100/n)+"%"}}}},"1.0.0",{requires:["node"]});
/*	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
var swfobject=function(){var E="undefined",s="object",T="Shockwave Flash",X="ShockwaveFlash.ShockwaveFlash",r="application/x-shockwave-flash",S="SWFObjectExprInst",y="onreadystatechange",P=window,k=document,u=navigator,U=false,V=[i],p=[],O=[],J=[],m,R,F,C,K=false,a=false,o,H,n=true,N=function(){var ac=typeof k.getElementById!=E&&typeof k.getElementsByTagName!=E&&typeof k.createElement!=E,aj=u.userAgent.toLowerCase(),aa=u.platform.toLowerCase(),ag=aa?/win/.test(aa):/win/.test(aj),ae=aa?/mac/.test(aa):/mac/.test(aj),ah=/webkit/.test(aj)?parseFloat(aj.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,Z=!+"\v1",ai=[0,0,0],ad=null;if(typeof u.plugins!=E&&typeof u.plugins[T]==s){ad=u.plugins[T].description;if(ad&&!(typeof u.mimeTypes!=E&&u.mimeTypes[r]&&!u.mimeTypes[r].enabledPlugin)){U=true;Z=false;ad=ad.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ai[0]=parseInt(ad.replace(/^(.*)\..*$/,"$1"),10);ai[1]=parseInt(ad.replace(/^.*\.(.*)\s.*$/,"$1"),10);ai[2]=/[a-zA-Z]/.test(ad)?parseInt(ad.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof P.ActiveXObject!=E){try{var af=new ActiveXObject(X);if(af){ad=af.GetVariable("$version");if(ad){Z=true;ad=ad.split(" ")[1].split(",");ai=[parseInt(ad[0],10),parseInt(ad[1],10),parseInt(ad[2],10)]}}}catch(ab){}}}return{w3:ac,pv:ai,wk:ah,ie:Z,win:ag,mac:ae}}(),l=function(){if(!N.w3){return}if((typeof k.readyState!=E&&k.readyState=="complete")||(typeof k.readyState==E&&(k.getElementsByTagName("body")[0]||k.body))){g()}if(!K){if(typeof k.addEventListener!=E){k.addEventListener("DOMContentLoaded",g,false)}if(N.ie&&N.win){k.attachEvent(y,function(){if(k.readyState=="complete"){k.detachEvent(y,arguments.callee);g()}});if(P==top){(function(){if(K){return}try{k.documentElement.doScroll("left")}catch(Z){setTimeout(arguments.callee,0);return}g()})()}}if(N.wk){(function(){if(K){return}if(!/loaded|complete/.test(k.readyState)){setTimeout(arguments.callee,0);return}g()})()}t(g)}}();function g(){if(K){return}try{var ab=k.getElementsByTagName("body")[0].appendChild(D("span"));ab.parentNode.removeChild(ab)}catch(ac){return}K=true;var Z=V.length;for(var aa=0;aa<Z;aa++){V[aa]()}}function L(Z){if(K){Z()}else{V[V.length]=Z}}function t(aa){if(typeof P.addEventListener!=E){P.addEventListener("load",aa,false)}else{if(typeof k.addEventListener!=E){k.addEventListener("load",aa,false)}else{if(typeof P.attachEvent!=E){j(P,"onload",aa)}else{if(typeof P.onload=="function"){var Z=P.onload;P.onload=function(){Z();aa()}}else{P.onload=aa}}}}}function i(){if(U){W()}else{I()}}function W(){var Z=k.getElementsByTagName("body")[0];var ac=D(s);ac.setAttribute("type",r);var ab=Z.appendChild(ac);if(ab){var aa=0;(function(){if(typeof ab.GetVariable!=E){var ad=ab.GetVariable("$version");if(ad){ad=ad.split(" ")[1].split(",");N.pv=[parseInt(ad[0],10),parseInt(ad[1],10),parseInt(ad[2],10)]}}else{if(aa<10){aa++;setTimeout(arguments.callee,10);return}}Z.removeChild(ac);ab=null;I()})()}else{I()}}function I(){var ai=p.length;if(ai>0){for(var ah=0;ah<ai;ah++){var aa=p[ah].id;var ad=p[ah].callbackFn;var ac={success:false,id:aa};if(N.pv[0]>0){var ag=c(aa);if(ag){if(G(p[ah].swfVersion)&&!(N.wk&&N.wk<312)){x(aa,true);if(ad){ac.success=true;ac.ref=A(aa);ad(ac)}}else{if(p[ah].expressInstall&&B()){var ak={};ak.data=p[ah].expressInstall;ak.width=ag.getAttribute("width")||"0";ak.height=ag.getAttribute("height")||"0";if(ag.getAttribute("class")){ak.styleclass=ag.getAttribute("class")}if(ag.getAttribute("align")){ak.align=ag.getAttribute("align")}var aj={};var Z=ag.getElementsByTagName("param");var ae=Z.length;for(var af=0;af<ae;af++){if(Z[af].getAttribute("name").toLowerCase()!="movie"){aj[Z[af].getAttribute("name")]=Z[af].getAttribute("value")}}Q(ak,aj,aa,ad)}else{q(ag);if(ad){ad(ac)}}}}}else{x(aa,true);if(ad){var ab=A(aa);if(ab&&typeof ab.SetVariable!=E){ac.success=true;ac.ref=ab}ad(ac)}}}}}function A(ac){var Z=null;var aa=c(ac);if(aa&&aa.nodeName=="OBJECT"){if(typeof aa.SetVariable!=E){Z=aa}else{var ab=aa.getElementsByTagName(s)[0];if(ab){Z=ab}}}return Z}function B(){return !a&&G("6.0.65")&&(N.win||N.mac)&&!(N.wk&&N.wk<312)}function Q(ac,ad,Z,ab){a=true;F=ab||null;C={success:false,id:Z};var ag=c(Z);if(ag){if(ag.nodeName=="OBJECT"){m=h(ag);R=null}else{m=ag;R=Z}ac.id=S;if(typeof ac.width==E||(!/%$/.test(ac.width)&&parseInt(ac.width,10)<310)){ac.width="310"}if(typeof ac.height==E||(!/%$/.test(ac.height)&&parseInt(ac.height,10)<137)){ac.height="137"}k.title=k.title.slice(0,47)+" - Flash Player Installation";var af=N.ie&&N.win?"ActiveX":"PlugIn",ae="MMredirectURL="+P.location.toString().replace(/&/g,"%26")+"&MMplayerType="+af+"&MMdoctitle="+k.title;if(typeof ad.flashvars!=E){ad.flashvars+="&"+ae}else{ad.flashvars=ae}if(N.ie&&N.win&&ag.readyState!=4){var aa=D("div");Z+="SWFObjectNew";aa.setAttribute("id",Z);ag.parentNode.insertBefore(aa,ag);ag.style.display="none";(function(){if(ag.readyState==4){ag.parentNode.removeChild(ag)}else{setTimeout(arguments.callee,10)}})()}v(ac,ad,Z)}}function q(aa){if(N.ie&&N.win&&aa.readyState!=4){var Z=D("div");aa.parentNode.insertBefore(Z,aa);Z.parentNode.replaceChild(h(aa),Z);aa.style.display="none";(function(){if(aa.readyState==4){aa.parentNode.removeChild(aa)}else{setTimeout(arguments.callee,10)}})()}else{aa.parentNode.replaceChild(h(aa),aa)}}function h(ae){var ad=D("div");if(N.win&&N.ie){ad.innerHTML=ae.innerHTML}else{var aa=ae.getElementsByTagName(s)[0];if(aa){var af=aa.childNodes;if(af){var Z=af.length;for(var ab=0;ab<Z;ab++){if(!(af[ab].nodeType==1&&af[ab].nodeName=="PARAM")&&!(af[ab].nodeType==8)){ad.appendChild(af[ab].cloneNode(true))}}}}}return ad}function v(ak,ai,aa){var Z,ac=c(aa);if(N.wk&&N.wk<312){return Z}if(ac){if(typeof ak.id==E){ak.id=aa}if(N.ie&&N.win){var aj="";for(var ag in ak){if(ak[ag]!=Object.prototype[ag]){if(ag.toLowerCase()=="data"){ai.movie=ak[ag]}else{if(ag.toLowerCase()=="styleclass"){aj+=' class="'+ak[ag]+'"'}else{if(ag.toLowerCase()!="classid"){aj+=" "+ag+'="'+ak[ag]+'"'}}}}}var ah="";for(var af in ai){if(ai[af]!=Object.prototype[af]){ah+='<param name="'+af+'" value="'+ai[af]+'" />'}}ac.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+aj+">"+ah+"</object>";O[O.length]=ak.id;Z=c(ak.id)}else{var ab=D(s);ab.setAttribute("type",r);for(var ae in ak){if(ak[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="styleclass"){ab.setAttribute("class",ak[ae])}else{if(ae.toLowerCase()!="classid"){ab.setAttribute(ae,ak[ae])}}}}for(var ad in ai){if(ai[ad]!=Object.prototype[ad]&&ad.toLowerCase()!="movie"){e(ab,ad,ai[ad])}}ac.parentNode.replaceChild(ab,ac);Z=ab}}return Z}function e(ab,Z,aa){var ac=D("param");ac.setAttribute("name",Z);ac.setAttribute("value",aa);ab.appendChild(ac)}function z(aa){var Z=c(aa);if(Z&&Z.nodeName=="OBJECT"){if(N.ie&&N.win){Z.style.display="none";(function(){if(Z.readyState==4){b(aa)}else{setTimeout(arguments.callee,10)}})()}else{Z.parentNode.removeChild(Z)}}}function b(ab){var aa=c(ab);if(aa){for(var Z in aa){if(typeof aa[Z]=="function"){aa[Z]=null}}aa.parentNode.removeChild(aa)}}function c(ab){var Z=null;try{Z=k.getElementById(ab)}catch(aa){}return Z}function D(Z){return k.createElement(Z)}function j(ab,Z,aa){ab.attachEvent(Z,aa);J[J.length]=[ab,Z,aa]}function G(ab){var aa=N.pv,Z=ab.split(".");Z[0]=parseInt(Z[0],10);Z[1]=parseInt(Z[1],10)||0;Z[2]=parseInt(Z[2],10)||0;return(aa[0]>Z[0]||(aa[0]==Z[0]&&aa[1]>Z[1])||(aa[0]==Z[0]&&aa[1]==Z[1]&&aa[2]>=Z[2]))?true:false}function w(ae,aa,af,ad){if(N.ie&&N.mac){return}var ac=k.getElementsByTagName("head")[0];if(!ac){return}var Z=(af&&typeof af=="string")?af:"screen";if(ad){o=null;H=null}if(!o||H!=Z){var ab=D("style");ab.setAttribute("type","text/css");ab.setAttribute("media",Z);o=ac.appendChild(ab);if(N.ie&&N.win&&typeof k.styleSheets!=E&&k.styleSheets.length>0){o=k.styleSheets[k.styleSheets.length-1]}H=Z}if(N.ie&&N.win){if(o&&typeof o.addRule==s){o.addRule(ae,aa)}}else{if(o&&typeof k.createTextNode!=E){o.appendChild(k.createTextNode(ae+" {"+aa+"}"))}}}function x(ab,Z){if(!n){return}var aa=Z?"visible":"hidden";if(K&&c(ab)){c(ab).style.visibility=aa}else{w("#"+ab,"visibility:"+aa)}}function M(aa){var ab=/[\\\"<>\.;]/;var Z=ab.exec(aa)!=null;return Z&&typeof encodeURIComponent!=E?encodeURIComponent(aa):aa}var d=function(){if(N.ie&&N.win){window.attachEvent("onunload",function(){var ae=J.length;for(var ad=0;ad<ae;ad++){J[ad][0].detachEvent(J[ad][1],J[ad][2])}var ab=O.length;for(var ac=0;ac<ab;ac++){z(O[ac])}for(var aa in N){N[aa]=null}N=null;for(var Z in swfobject){swfobject[Z]=null}swfobject=null})}}();return{registerObject:function(ad,Z,ac,ab){if(N.w3&&ad&&Z){var aa={};aa.id=ad;aa.swfVersion=Z;aa.expressInstall=ac;aa.callbackFn=ab;p[p.length]=aa;x(ad,false)}else{if(ab){ab({success:false,id:ad})}}},getObjectById:function(Z){if(N.w3){return A(Z)}},embedSWF:function(ad,aj,ag,ai,aa,ac,ab,af,ah,ae){var Z={success:false,id:aj};if(N.w3&&!(N.wk&&N.wk<312)&&ad&&aj&&ag&&ai&&aa){x(aj,false);L(function(){ag+="";ai+="";var al={};if(ah&&typeof ah===s){for(var an in ah){al[an]=ah[an]}}al.data=ad;al.width=ag;al.height=ai;var ao={};if(af&&typeof af===s){for(var am in af){ao[am]=af[am]}}if(ab&&typeof ab===s){for(var ak in ab){if(typeof ao.flashvars!=E){ao.flashvars+="&"+ak+"="+ab[ak]}else{ao.flashvars=ak+"="+ab[ak]}}}if(G(aa)){var ap=v(al,ao,aj);if(al.id==aj){x(aj,true)}Z.success=true;Z.ref=ap}else{if(ac&&B()){al.data=ac;Q(al,ao,aj,ae);return}else{x(aj,true)}}if(ae){ae(Z)}})}else{if(ae){ae(Z)}}},switchOffAutoHideShow:function(){n=false},ua:N,getFlashPlayerVersion:function(){return{major:N.pv[0],minor:N.pv[1],release:N.pv[2]}},hasFlashPlayerVersion:G,createSWF:function(ab,aa,Z){if(N.w3){return v(ab,aa,Z)}else{return undefined}},showExpressInstall:function(ab,ac,Z,aa){if(N.w3&&B()){Q(ab,ac,Z,aa)}},removeSWF:function(Z){if(N.w3){z(Z)}},createCSS:function(ac,ab,aa,Z){if(N.w3){w(ac,ab,aa,Z)}},addDomLoadEvent:L,addLoadEvent:t,getQueryParamValue:function(ac){var ab=k.location.search||k.location.hash;if(ab){if(/\?/.test(ab)){ab=ab.split("?")[1]}if(ac==null){return M(ab)}var aa=ab.split("&");for(var Z=0;Z<aa.length;Z++){if(aa[Z].substring(0,aa[Z].indexOf("="))==ac){return M(aa[Z].substring((aa[Z].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var Z=c(S);if(Z&&m){Z.parentNode.replaceChild(m,Z);if(R){x(R,true);if(N.ie&&N.win){m.style.display="block"}}if(F){F(C)}}a=false}}}}();