YUI.add("anim-base",function(b,p){var d="running",n="startTime",l="elapsedTime",j="start",i="tween",m="end",c="node",k="paused",o="reverse",h="iterationCount",a=Number;var f={},e;b.Anim=function(){b.Anim.superclass.constructor.apply(this,arguments);b.Anim._instances[b.stamp(this)]=this};b.Anim.NAME="anim";b.Anim._instances={};b.Anim.RE_DEFAULT_UNIT=/^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i;b.Anim.DEFAULT_UNIT="px";b.Anim.DEFAULT_EASING=function(r,q,u,s){return u*r/s+q};b.Anim._intervalTime=20;b.Anim.behaviors={left:{get:function(r,q){return r._getOffset(q)}}};b.Anim.behaviors.top=b.Anim.behaviors.left;b.Anim.DEFAULT_SETTER=function(u,v,x,y,A,t,w,z){var r=u._node,s=r._node,q=w(A,a(x),a(y)-a(x),t);if(s){if("style" in s&&(v in s.style||v in b.DOM.CUSTOM_STYLES)){z=z||"";r.setStyle(v,q+z)}else{if("attributes" in s&&v in s.attributes){r.setAttribute(v,q)}else{if(v in s){s[v]=q}}}}else{if(r.set){r.set(v,q)}else{if(v in r){r[v]=q}}}};b.Anim.DEFAULT_GETTER=function(t,q){var s=t._node,r=s._node,u="";if(r){if("style" in r&&(q in r.style||q in b.DOM.CUSTOM_STYLES)){u=s.getComputedStyle(q)}else{if("attributes" in r&&q in r.attributes){u=s.getAttribute(q)}else{if(q in r){u=r[q]}}}}else{if(s.get){u=s.get(q)}else{if(q in s){u=s[q]}}}return u};b.Anim.ATTRS={node:{setter:function(q){if(q){if(typeof q==="string"||q.nodeType){q=b.one(q)}}this._node=q;if(!q){}return q}},duration:{value:1},easing:{value:b.Anim.DEFAULT_EASING,setter:function(q){if(typeof q==="string"&&b.Easing){return b.Easing[q]}}},from:{},to:{},startTime:{value:0,readOnly:true},elapsedTime:{value:0,readOnly:true},running:{getter:function(){return !!f[b.stamp(this)]},value:false,readOnly:true},iterations:{value:1},iterationCount:{value:0,readOnly:true},direction:{value:"normal"},paused:{readOnly:true,value:false},reverse:{value:false}};b.Anim.run=function(){var r=b.Anim._instances,q;for(q in r){if(r[q].run){r[q].run()}}};b.Anim.pause=function(){for(var q in f){if(f[q].pause){f[q].pause()}}b.Anim._stopTimer()};b.Anim.stop=function(){for(var q in f){if(f[q].stop){f[q].stop()}}b.Anim._stopTimer()};b.Anim._startTimer=function(){if(!e){e=setInterval(b.Anim._runFrame,b.Anim._intervalTime)}};b.Anim._stopTimer=function(){clearInterval(e);e=0};b.Anim._runFrame=function(){var q=true,r;for(r in f){if(f[r]._runFrame){q=false;f[r]._runFrame()}}if(q){b.Anim._stopTimer()}};b.Anim.RE_UNITS=/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/;var g={run:function(){if(this.get(k)){this._resume()}else{if(!this.get(d)){this._start()}}return this},pause:function(){if(this.get(d)){this._pause()}return this},stop:function(q){if(this.get(d)||this.get(k)){this._end(q)}return this},_added:false,_start:function(){this._set(n,new Date()-this.get(l));this._actualFrames=0;if(!this.get(k)){this._initAnimAttr()}f[b.stamp(this)]=this;b.Anim._startTimer();this.fire(j)},_pause:function(){this._set(n,null);this._set(k,true);delete f[b.stamp(this)];this.fire("pause")},_resume:function(){this._set(k,false);f[b.stamp(this)]=this;this._set(n,new Date()-this.get(l));b.Anim._startTimer();this.fire("resume")},_end:function(q){var r=this.get("duration")*1000;if(q){this._runAttrs(r,r,this.get(o))}this._set(n,null);this._set(l,0);this._set(k,false);delete f[b.stamp(this)];this.fire(m,{elapsed:this.get(l)})},_runFrame:function(){var u=this._runtimeAttr.duration,s=new Date()-this.get(n),r=this.get(o),q=(s>=u);this._runAttrs(s,u,r);this._actualFrames+=1;this._set(l,s);this.fire(i);if(q){this._lastFrame()}},_runAttrs:function(B,A,x){var y=this._runtimeAttr,s=b.Anim.behaviors,z=y.easing,q=A,v=false,r,u,w;if(B>=A){v=true}if(x){B=A-B;q=0}for(w in y){if(y[w].to){r=y[w];u=(w in s&&"set" in s[w])?s[w].set:b.Anim.DEFAULT_SETTER;if(!v){u(this,w,r.from,r.to,B,A,z,r.unit)}else{u(this,w,r.from,r.to,q,A,z,r.unit)}}}},_lastFrame:function(){var q=this.get("iterations"),r=this.get(h);r+=1;if(q==="infinite"||r<q){if(this.get("direction")==="alternate"){this.set(o,!this.get(o))}this.fire("iteration")}else{r=0;this._end()}this._set(n,new Date());this._set(h,r)},_initAnimAttr:function(){var x=this.get("from")||{},w=this.get("to")||{},q={duration:this.get("duration")*1000,easing:this.get("easing")},s=b.Anim.behaviors,v=this.get(c),u,t,r;b.each(w,function(B,z){if(typeof B==="function"){B=B.call(this,v)}t=x[z];if(t===undefined){t=(z in s&&"get" in s[z])?s[z].get(this,z):b.Anim.DEFAULT_GETTER(this,z)}else{if(typeof t==="function"){t=t.call(this,v)}}var y=b.Anim.RE_UNITS.exec(t),A=b.Anim.RE_UNITS.exec(B);t=y?y[1]:t;r=A?A[1]:B;u=A?A[2]:y?y[2]:"";if(!u&&b.Anim.RE_DEFAULT_UNIT.test(z)){u=b.Anim.DEFAULT_UNIT}if(!t||!r){b.error('invalid "from" or "to" for "'+z+'"',"Anim");return}q[z]={from:b.Lang.isObject(t)?b.clone(t):t,to:r,unit:u}},this);this._runtimeAttr=q},_getOffset:function(r){var t=this._node,u=t.getComputedStyle(r),s=(r==="left")?"getX":"getY",v=(r==="left")?"setX":"setY",q;if(u==="auto"){q=t.getStyle("position");if(q==="absolute"||q==="fixed"){u=t[s]();t[v](u)}else{u=0}}return u},destructor:function(){delete b.Anim._instances[b.stamp(this)]}};b.extend(b.Anim,b.Base,g)},"3.8.1",{requires:["base-base","node-style"]});YUI.add("alert-popup",function(d){var j=d.namespace("Search.Alert.Popup"),f,b,h,c,a,e,i,g;a=function(){f=d.Node.create('<div id="alert-popup" style="opacity:0;z-index:3000;"></div>');d.one("body").append(f)};e=function(){b=new d.Anim({node:f,to:{opacity:1}});h=new d.Anim({node:f,to:{opacity:0}})};i=function(l){f.setStyle("left","");try{b.run()}catch(k){f.setStyle("opacity",1).show(true)}};g=function(l){if(c){c=null}try{h.once("end",function(){if(l){l()}});h.run()}catch(k){f.setStyle("opacity",0).hide(true);if(l){l()}}f.setStyle("left","-9999px")};j.show_msg=function(k,l){if(!f){a();e()}if(c){c.cancel();c=null;g()}f.set("innerHTML",k);i();c=d.later(3*1000,this,g,[l],false)}},"1.0.0",{requires:["anim-base"]});YUI.add("alert-unsigned-form",function(f){var r=f.namespace("Search.Alert.Unsigned.Form"),e=f.Search.ULT,l=f.Search.Alert.Popup,w,i={},k,g={},s,u,v,y,m,t,j,o,d,x,q,h,c,n,b=1,p="placeholder";u=function(E,B,D){var C=w.translations[B]||"",z=f.one(E+" > .err-msg"),A;if(C&&D){for(A in D){C=C.replace("{"+A+"}",D[A])}}if(C&&z){i[E]=i[E]||{};i[E][B]=C;z.set("innerHTML",C).show(true)}};v=function(D,B){var z=f.one(D+" > .err-msg"),C,A;i[D]=i[D]||{};if(i[D][B]){delete i[D][B]}if(z){for(A in i[D]){if(i[D][A]){C=i[D][A];break}}if(C){z.set("innerHTML",C).show(true)}else{z.hide(true).set("innerHTML","")}}};y=function(A,z){if(!A){l.show_msg(w.translations.ERROR_UNSIGNED_EMPTY_QUERY);return false}if(z&&z.hasClass(p)){l.show_msg(w.translations.ERROR_UNSIGNED_EMPTY_QUERY);return false}return true};m=function(A,z){if(A=="web"&&z=="1h"){u("#freq-div","ERROR_NOT_SUPPORT_WEB_1H")}else{v("#freq-div","ERROR_NOT_SUPPORT_WEB_1H")}};t=function(B,z){if(!B){l.show_msg(w.translations.ERROR_UNSIGNED_EMPTY_EMAIL);return false}if(z&&z.hasClass(p)){l.show_msg(w.translations.ERROR_UNSIGNED_EMPTY_EMAIL);return false}var A=B.indexOf("@"),C=B.lastIndexOf(".");if(A<1||C<A+2||C+2>=B.length){l.show_msg(w.translations.ERROR_UNSIGNED_BAD_EMAIL);return false}return true};x=function(D){D.preventDefault();var A=D.currentTarget,H=f.Lang.trim(A.one('input[name="qr"]').get("value"))||"",F=A.one('input[name="email"]').get("value")||"",G=A.one('select[name="freq"]').get("value")||"",I="all",B="t",E=new Date().getTime(),z=w.urls.js_url+"?action=create&o=js&.bcrumb="+w.bcrumb+"&email="+F+"&t="+E,J;var C={qr:H,pv:I,freq:G,uc:B};if(!y(H,A.one('input[name="qr"]'))){return}if(!t(F,A.one('input[name="email"]'))){return}for(J in C){z+="&"+J+"="+encodeURIComponent(C[J])}if(q&&q.isInProgress()){return}f.io.header("Cache-Control","no-cache");f.io.header("Pragma","no-cache");q=f.io(z,{on:{success:function(O,N,K){var M;try{M=f.JSON.parse(N.responseText)}catch(L){l.show_msg(w.translations.ERROR_SUBMIT_FAILED)}if(M&&M.status&&M.status==1){l.show_msg(w.translations.MSG_ALERT_SAVED,c)}else{l.show_msg(w.translations.ERROR_SUBMIT_FAILED_HINT)}},failure:function(){l.show_msg(w.translations.ERROR_SUBMIT_FAILED)}},timeout:20*1000})};function a(){if(o){return}var B="",A="",z="",D="",C="";if(w.query){B=w.query}if(f.UA.ie&&f.UA.ie<=9){if(!B){B=w.translations.MSG_ENTER_QUERY;D=p}A=w.translations.MSG_ENTER_EMAIL;z=p;if(f.UA.ie==8||f.UA.ie==9){C="&nbsp;&nbsp;"}}o=f.Node.create('<div class="alert-unsigned-box" style="opacity:0;"><div class="alert-unsigned-grey"></div><div class="alert-unsigned-form"><button id="close-unsigned-box" type="button" class="close-unsigned-x"><span class="sprite"></span></button><h1>Get the latest updates sent to your inbox</h1><div class="alert-form-body"><form action="/alert" method="post" id="auf"><table><tbody><tr class="dataRow"><td class="keyword"><input class="'+D+'" type="text" name="qr" value="'+B+'" placeholder="'+w.translations.MSG_ENTER_QUERY+'"></td></tr><tr class="dataRow"><td class="email"><input class="'+z+'" type="text" name="email" value="'+A+'" placeholder="'+w.translations.MSG_ENTER_EMAIL+'"></td></tr><tr class="dataRow"><td class="frequency"><div class="slct-bg"><span class="slct-arrow alrt-sprt"></span><select class="freq" name="freq"><option value="1h">'+C+'As it happens</option><option value="1d" selected="">'+C+'Daily</option></div></select></td></tr></tbody></table><div class="submit-row"><input class="bttn subscribe" type="submit" value="Subscribe"></div></form></div></div></div>');f.one("body").append(o);f.on("click",c,"#close-unsigned-box");f.on("submit",x,"#auf");if(f.UA.ie&&f.UA.ie<=9){f.on(["focus","blur"],function(G){var E=G.currentTarget;var F=E.get("value"),H=E.getAttribute("placeholder");if(G.type=="focus"&&F==H){E.set("value","");E.removeClass(p)}else{if(G.type=="blur"&&!F){E.set("value",H);E.addClass(p)}}},'input[name="qr"],input[name="email"]')}}h=function(D){if(!o){a()}if(D){D.preventDefault()}var z=document.documentElement.scrollHeight||document.body.scrollHeight,A=document.documentElement.scrollTop||document.body.scrollTop,B=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var C=(B>400)?(B-400)/2:20;o.setStyle("height",z+500);o.one(".alert-unsigned-form").setStyle("top",A+C);o.setStyle("display","block");if(f.UA.ie&&f.UA.ie<=8){o.setStyle("opacity","1")}else{n(o,true)}};c=function(z){if(!o){a()}if(z){z.preventDefault()}if(f.UA.ie&&f.UA.ie<=8){o.setStyle("opacity","0");o.setStyle("display","none")}else{n(o,false)}};n=function(A,B){var z;if(B){z=new f.Anim({node:A,from:{opacity:0},to:{opacity:1},duration:b});z.on("destroy",function(){if(f.UA.ie){A.setStyle("opacity",1)}else{A.setStyle("opacity","")}})}else{z=new f.Anim({node:A,from:{opacity:1},to:{opacity:0},duration:b});z.on("end",function(){A.setStyle("display","none")})}z.run()};r.init=function(z){w=z;w.ult_params={sec:w.action=="create"?"alrtNew":"alrtEdit"};if(w.node){f.on("click",h,w.node)}else{f.on("click",h,"#alert a.manage")}}},"1.0.0",{requires:["node","event","anim-base","io-base","json-parse","ult-linktrack","alert-popup"]});YUI.add("ymuid-beacon-module",function(a){var b=a.namespace("Search.YMuid");a.mix(b,{beaconUrl:"",init:function(c){this.beaconUrl=c;if(this.beaconUrl!=""){this._sendBeacon(this.beaconUrl)}},_sendBeacon:function(c){a.Search.SRP.beacon(c)}})},"1.0.0",{requires:[]});YUI.add("surfer",function(e){var c,b,d=(e.UA.webkit?true:false);time=0,playTimer={timer:false,delay:5000,startDelay:300};EVT_NEXTCLICK="nextClick",EVT_PREVCLICK="prevClick",EVT_ITEMCHANGE="itemChange",EVT_READY="ready",EVT_CLOSE="close",EVT_END="end",EVT_PLAY="play",EVT_PAUSE="pause",EVT_RESIZE="resize";function a(f){a.superclass.constructor.apply(this,arguments)}a.ATTRS={nxtNode:{writeOnce:true,setter:e.one,validator:e.Lang.isString},prvNode:{writeOnce:true,setter:e.one,validator:e.Lang.isString},easing:{value:"ease-out"},transitionDuration:{value:300,validator:e.Lang.isNumber},transitionLimit:{value:400,validator:e.Lang.isNumber},datamodel:{value:null},curPos:{value:1,validator:e.Lang.isNumber},disableHistory:{value:true},history:{value:false},fromOverlay:{value:false},fullScreenMode:{value:false},cssResultClass:{value:"card"},titleField:{value:"tit"},urlField:{value:"url"},autoPlayDelay:{value:5000},microTemplate:{writeOnce:true,setter:e.one,validator:e.Lang.isString}};a.NAME="surfer";e.extend(a,e.Widget,{initializer:function(f){var g=this;g.last=false;g.first=false;g._high=0;g._low=0;g.prefetched=[];g._events=[];g._touchSupport="ontouchstart" in e.config.win;g._disableTransition=!g._touchSupport;g._moving=false;g._easing=this.get("easing");g._duration=this.get("transitionDuration");g._nxtNode=this.get("nxtNode");g._prvNode=this.get("prvNode");g._cb=this.get("contentBox");g._bb=this.get("boundingBox");playTimer.delay=this.get("autoPlayDelay");g.cssclass=this.get("cssResultClass");g.current=g.get("curPos");g.previous=g.current;time=this._getTime();g.history=g.get("history");if(!g.history&&!g.get("disableHistory")){if(e.config.win.history&&e.config.win.history.pushState){e.use("history-html5",function(h){g.history=new h.HistoryHTML5({initialState:{index:g.current}})})}}if(this.get("microTemplate")){this.compiled=e.Template.Micro.compile(this.get("microTemplate").getHTML())}else{this.compiled=null}},destructor:function(){this._detachEvents()},renderUI:function(){this._scrollToTop();this._setDims()},bindUI:function(){var f=this;f._bindIO();if(f._touchSupport){f._events.push(e.on("touchmove",function(g){g.halt()},window));f._cb.on("touchstart",f._onTouchStart,f);f._cb.on("touchmove",f._onTouchMove,f);f._cb.on("flick",e.bind(f._onFlick,f))}f._events.push(e.on("orientationchange",f._onResize,e.config.win,f,"orient"));f._events.push(e.on("windowresize",f._onResize,e.config.win,f,"resize"));f._events.push(f.on("fullScreenModeChange",f._onResize,f));f.on("forward",f.forward,f);f.on("backward",f.backward,f);f.on("repaint",f.repaint,f);f._nxtNode.on("click",f._next,f);f._prvNode.on("click",f._prev,f);f._events.push(e.on("key",f._prev,e.config.doc.body,"down:37",f));f._events.push(e.on("key",f._next,e.config.doc.body,"down:39",f));if(!f.get("disableHistory")){f._events.push(e.on("history:change",this._handleHistChange,this))}this._bindCustom()},syncUI:function(){var j=this;j._resizeContents();var f=e.Node.create('<li class="'+j.cssclass+'"></li>'),g=e.Node.create('<li class="'+j.cssclass+'"></li>');if(j._cb.one("li")){var h=j._cb.one("li")}else{var h=e.Node.create('<li class="'+j.cssclass+'"></li>');j._cb.append(h)}h.addClass("current");j._cb.append(f);j._cb.append(g);j._updateUI(this.get("fromOverlay"),this.get("fromOverlay"));j.fire(EVT_READY)},_bindIO:function(){this.io=this.get("datamodel");this._syncBoundaries();this._events.push(this.io.on("data",e.bind(this._onData,this)))},_updateUI:function(p,r){var t=this;var o=t._data(t.current),m=t._data(t.current,1),l=t._data(t.current,-1),j=t.io.offset(t.current,-1),n=t.io.offset(t.current,1);var g=t._cb.one(".current");var k=g.get("nextSibling");if(!k){k=t._cb.all("li."+t.cssclass).item(0)}var f=g.get("previousSibling");if(!f){f=t._cb.all("li."+t.cssclass).item(2)}t.fire(EVT_ITEMCHANGE,{data:o,logPV:r,index:t.current,fromSrp:p,prevIndex:t.previous,node:g,forward:false});t._setItem(o,g,t.current);t._setItemID(t.current,g);if(r){t._updateBrowser(t.current,o)}t.prefetched[t.current]=1;if(m){t._setItem(m,k,n);t._setItemID(n,k);t.prefetched[n]=1;t.last=false}else{t.last=true}t._transOrLeft(k,t.twidth);if(l){t._setItem(l,f,j);t._setItemID(j,f);t.prefetched[j]=1;t.first=false}else{t.first=true;var h=t._data(t.current,2),q=t.io.offset(t.current,2);if(h){t._setItem(h,f,q);t._setItemID(q,f);t.prefetched[q]=1}}t._transOrLeft(f,-1*t.twidth);t._toggleNextPrev()},_handleHistChange:function(f){if(f.changed.index&&f.changed.index.newVal==-9999){this.fire(EVT_CLOSE);return}if(f.changed.index&&f.changed.index.newVal!=this.current){this._moveTo(f.changed.index.newVal)}},_onData:function(f){this._syncBoundaries();if(!this._moving){if(this.current<this._high){this.last=false;this.fire("repaint",{backward:false,forward:false,resize:false,sync:true})}}this.fire("data",f)},_data:function(g,f){return this.io.item(g,f)},getData:function(f){if(!e.Lang.isValue(f)){f=this.current}return this.io.item(f,0)},_syncBoundaries:function(){pos_map=this.io._posMap;if(pos_map){this._low=pos_map[0];this._high=pos_map[pos_map.length-1]}else{this._low=0;this._high=this.io._items.length-1}},_transform:function(f){return(d)?"translate3d("+f+", 0, 0)":"translate("+f+",0)"},_transOrLeft:function(g,f){if(!e.UA.ie){g.setStyle("transform",this._transform(f+"px"))}else{g.setStyle("left",f+"px")}},_next:function(f){if(f.target.get("nodeName")=="INPUT"){return}f.preventDefault();if(this.get("isPlaying")){this.pause()}this.fire(EVT_NEXTCLICK);this.next()},next:function(){this.fire("forward")},_prev:function(f){if(f.target.get("nodeName")=="INPUT"){return}f.preventDefault();if(this.get("isPlaying")){this.pause()}this.fire(EVT_PREVCLICK);this.prev()},prev:function(){this.fire("backward")},forward:function(){var k=this;if((k.current==k._high)||(!k._disableTransition&&k._moving)){return}var h=k._cb.one(".current"),f=h.get("nextSibling");if(!f){f=k._cb.all("li."+k.cssclass).item(0)}this._restoreCurrent();f.addClass("current");h.removeClass("current");k._moving=true;var g=k._data(k.current,2);k.first=false;if(!g){k.last=true}else{k.last=false}var j=k._data(k.current,1);if(k._touchSupport){k._cb.transition({easing:k._easing,duration:k._disableTransition?0:(k._duration/1000),transform:k._transform(-1*k.twidth+"px")},function(){k.fire("repaint",{backward:false,forward:true,resize:false,sync:false})})}else{k._transOrLeft(k._cb,-1*k.twidth);k.fire("repaint",{backward:false,forward:true,resize:false,sync:false})}},backward:function(){var j=this;if((j.current==j._low)||(!j._disableTransition&&j._moving)){return}var h=e.one(".current"),f=h.get("previousSibling");if(!f){f=j._cb.all("li."+j.cssclass).item(2)}j._moving=true;j._restoreCurrent();f.addClass("current");h.removeClass("current");var g=j._data(j.current,-2);j.last=false;if(!g){j.first=true}else{j.first=false}var k=j._data(j.current,-1);if(j._touchSupport){j._cb.transition({easing:j._easing,duration:j._disableTransition?0:(j._duration/1000),transform:j._transform(j.twidth+"px")},function(){j.fire("repaint",{backward:true,forward:false,resize:false,sync:false})})}else{j._transOrLeft(j._cb,j.twidth);j.fire("repaint",{backward:true,forward:false,resize:false,sync:false})}},_toggleNextPrev:function(){var g=this.current;if(!this._data(g,-1)){this._prvNode.hide()}else{this._prvNode.show()}var f=e.Lang.isNumber(this.io.off)?this.io.off:1;if(g>=(this.io.get("total")-f)){this._nxtNode.hide();this.fire(EVT_END)}else{this._nxtNode.show()}},_getTime:function(){var f=new Date();return f.getTime()},repaint:function(n){var o=this;var g=o._cb.one(".current");var k=g.get("nextSibling");if(!k){k=o._cb.all("li."+o.cssclass).item(0)}var f=g.get("previousSibling");if(!f){f=o._cb.all("li."+o.cssclass).item(2)}if(!n.resize){o._transOrLeft(o._cb,0)}o.previous=o.current;o.current=parseInt(g.getAttribute("data-id"));o._transOrLeft(g,0);var p=o._data(o.current);if(p){if(n.forward||n.backward){o._updateBrowser(o.current,p)}n.resize&&o._syncItem(p,g)}var m=o._data(this.current,1),j=o._data(this.current,-1),h=o.io.offset(o.current,-1),l=o.io.offset(o.current,1);if(f){if((n.backward||n.sync)&&j){o._setItem(j,f,h);o._setItemID(h,f);o.prefetched[h]=1}else{if(n.resize&&j){o._syncItem(j,f)}}o._transOrLeft(f,-1*o.twidth)}if(k){if((n.forward||n.sync)&&m){o._setItem(m,k,l);o._setItemID(l,k);o.prefetched[l]=1}else{if(n.resize&&m){o._syncItem(m,k)}}o._transOrLeft(k,o.twidth)}o._moving=false;if(n.forward||n.backward){o.fire(EVT_ITEMCHANGE,{data:p,logPV:true,index:o.current,fromSrp:false,prevIndex:o.previous,node:g,forward:n.forward})}o._toggleNextPrev()},_onTouchStart:function(f){f=f.touches[0];c=f.pageX;b=f.pageY},_onTouchMove:function(g){if(this._moving){return}g=g.touches[0];if(c<g.pageX){var f=false}else{var f=true}if((f&&this.current==this._high)||(!f&&this.current==this._low)){return}distance=g.pageX-c;this._cb.setStyle("transform",this._transform(distance+"px"))},_onFlick:function(g){now=this._getTime();diff=now-time;time=this._getTime();if(diff<this.get("transitionLimit")){this._disableTransition=true}else{this._disableTransition=false}if(this._moving){return}if(g.flick.distance==0&&g.flick.velocity==0){return}if(g.flick.axis=="y"){this._cb.setStyle("transform",this._transform(0));return true}var f=g.flick.distance<0;var h=g.flick.distance>0;if(f&&!this.last){this.fire("forward")}if(h&&!this.first){this.fire("backward")}},_onResize:function(f,g){this.fire(EVT_RESIZE,{src:g});this._scrollToTop();this._setDims();this._resizeContents(g);this.fire("repaint",{backward:false,forward:false,resize:true,sync:false})},_moveTo:function(g){var f=this;if(f.get("isPlaying")){f.pause()}if(g==f.current){return}f._restoreCurrent();f.previous=f.current;f.current=g;f._updateUI(false,true)},_updateBrowser:function(g,f){if(this.get("disableHistory")){return}var j=f[this.get("titleField")],h=f[this.get("urlField")]||f.fpurl;if(!this.get("fullScreenMode")){this.history&&this.history.addValue("index",g,{title:j,url:h})}e.config.doc.title=this._htmlDecode(j)},_detachEvents:function(f){e.Array.each(this._events||[],function(g){g.detach()},this);this._events=[]},_scrollToTop:function(){if(e.UA.iphone){e.config.win.scrollTo(0,1)}else{e.config.win.scrollTo(0,0)}},_setDims:function(){var f=this._bb.get("region");this.width=f.width;this.twidth=f.width;this.height=f.height},play:function(){this._cancelPlayTimer();this.set("isPlaying",true);playTimer.timer=e.later(playTimer.startDelay,this,"_startPlay");this.fire(EVT_PLAY)},_startPlay:function(){this._cancelPlayTimer();this.next();playTimer.timer=e.later(playTimer.delay,this,"next",null,true)},pause:function(){this._cancelPlayTimer();this.set("isPlaying",false);this.fire("repaint",{backward:false,forward:false,resize:true,sync:false});this.fire(EVT_PAUSE)},_cancelPlayTimer:function(){if(playTimer.timer){playTimer.timer.cancel()}},_setItemID:function(g,f){f.setAttribute("data-id",g)},_setItem:function(f,g,h){if(this.compiled){g.setHTML(this.compiled(f))}this._syncItem(f,g)},_htmlDecode:function(f){if(!this.dummyDiv){this.dummyDiv=e.Node.create("<div></div>")}return this.dummyDiv.setContent(f).get("text")},_resizeContents:function(){},_bindCustom:function(){},_restoreCurrent:function(){},_syncItem:function(f,g){}});e.namespace("MMSearch").Surfer=a},"1.0.0",{requires:["widget-base","node","transition","event","json-parse","template-micro"]});YUI.add("surfer-base-plugin",function(b){b.namespace("MMSearch");function a(c){a.superclass.constructor.apply(this,arguments)}a.NAME="SurferBasePlugin";a.NS="sbp";a.ATTRS={};b.extend(a,b.Plugin.Base,{initializer:function(){this.events=[]},destroy:function(){b.each(this.events,function(d,c){if(d){d.detach()}});this.events=[]},_pushEvent:function(c){this.events.push(c)}});b.namespace("MMSearch").SurferBasePlugin=a},"0.0.1",{requires:["event","plugin"]});YUI.add("right-rail",function(b){function a(){a.superclass.constructor.apply(this,arguments)}a.ATTRS={boundingBox:{setter:b.one},contentBox:{setter:b.one},width:{value:290,validator:b.Lang.isNumber},toggleButton:{setter:b.one},mask:{setter:b.one},searchbox:{setter:b.one}};a.NAME="right-rail";a.NS="rrail";b.extend(a,b.MMSearch.SurferBasePlugin,{initializer:function(){this.bb=this.get("boundingBox");this.cb=this.get("contentBox");this.searchbox=this.get("searcbox");this.rrwidth=this.get("width");this._bindUI()},_bindUI:function(){this.onHostEvent("resize",this._onHostResize);this.onHostEvent("itemChange",this._closeRightRail);this._pushEvent(this.get("toggleButton").on("click",this._toggleRightRail,this));this._pushEvent(this.get("mask").on("click",this._closeRightRail,this));this._onHostResize()},_toggleRightRail:function(){if(this.bb.hasClass("open")){this._closeRightRail()}else{this._openRightRail()}},_openRightRail:function(){var c=this;c.cb.transition({duration:0.2,easing:"ease-in",right:"0px"},function(){c.bb.addClass("open")});this.fire("open")},_closeRightRail:function(){if(!this.bb.hasClass("open")){return}if(this.searchbox){this.searchbox.blur()}this.bb.removeClass("open");this.cb.transition({duration:0.2,easing:"ease-out",right:"-"+this.rrwidth+"px"});this.fire("close")},_onHostResize:function(c){}});b.namespace("MMSearch").RightRailPlugin=a},"1.0.0",{requires:["node","surfer-base-plugin"]});YUI.add("right-rail-reco",function(b){b.namespace("MMSearch");function a(){a.superclass.constructor.apply(this,arguments)}a.NAME="RightRailRecoPlugin";a.NS="rreco";a.ATTRS={url:{value:""},strings:{value:{trendingtopics:"Trending Topics",recommendedtopics:"Recommended Topics",exploretags:"Related Topics"}},searchbox:{setter:b.one},sbclear:{value:"#sbxclr",setter:b.one},boundingNode:{setter:b.one},contentNode:{setter:b.one},hideClass:{value:"sa-hidden"}};b.extend(a,b.MMSearch.SurferBasePlugin,{initializer:function(){this.cb=this.get("contentNode");this.bb=this.get("boundingNode");this.sbclear=this.get("sbclear");this._bindUI();this._fetch()},_bindUI:function(){var c=this.get("searchbox");this._pushEvent(c.on("valueChange",function(d){if(c.get("value")==""){this.sbclear.hide();this.show()}else{this.sbclear.show()}},this));this._pushEvent(c.on("focus",function(d){if(c.get("value")==""){this.show()}},this));this._pushEvent(c.on("clickoutside",function(d){if(d.target!=this.sbclear){this.hide()}},this));this._pushEvent(this.sbclear.on("click",function(d){c.set("value","");this.sbclear.hide();this.show()},this))},_fetch:function(){var c=this.get("url");if(!c){return}b.jsonp(c+"&callback={callback}",{on:{success:function(d){this._build(d)}},context:this})},_build:function(e){var d="";var c=this;b.each(e,function(g,f){d+="<h2>"+c.get("strings")[f]+"</h2><ul>";b.each(g,function(h){d+='<li><a href="'+h.link+'">'+h.key+"</a></li>"});d+="</ul>"});this.cb.set("innerHTML",d)},show:function(){this.bb.removeClass(this.get("hideClass"))},hide:function(){this.bb.addClass(this.get("hideClass"))}});b.namespace("MMSearch").RightRailRecoPlugin=a},"0.0.1",{requires:["node","jsonp","jsonp-url","event-valuechange","event-outside","surfer-base-plugin"]});YUI.add("surfer-util",function(a){a.MMSearch.SurferUtil={beacon:function(c){if(!c){return}var b=new Image();b.src=c+(c.indexOf("?")===-1?"?":"&")+(new Date()).getTime()},buildSearchUrl:function(d,g,e,j){var f=d.get("form"),c=e||f.getAttribute("action"),b=f.all("input,select,textarea"),h=[];if(!j){j={}}b.each(function(n){var m,l;if(n.get("tagName").toLowerCase()==="input"){switch(n.get("type")){case"button":case"image":case"reset":case"submit":return;case"checkbox":case"radio":if(!n.get("checked")){return}break}}m=n.get("name");if(m===d.get("name")){l=g}else{if(!j[m]){l=n.get("value")}}if(l){h.push(encodeURIComponent(m)+"="+encodeURIComponent(l))}});a.each(j,function(m,l){h.push(encodeURIComponent(l)+"="+encodeURIComponent(m))});return c+(c.indexOf("?")===-1?"?":"&")+h.join("&")},highlightAll:function(e,d){var c="(&[^;\\s]*)?(%needles)";var b=function(f,h,g){return h&&!(/\s/).test(g)?f:"<b>{s}</b>".replace(/\{s\}/g,g)};d=a.Lang.isArray(d)?d.concat():[d];for(i=0,len=d.length;i<len;++i){d[i]=a.Escape.regex(a.Escape.html(d[i]))}e=a.Escape.html(e);return e.replace(new RegExp(c.replace("%needles",d.join("|")),"gi"),b)},truncate:function(h,c,d){var e,g,f,b=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];h=a.Lang.trim(h);if(c<=0||h.length<=c){return h}f=new RegExp("(\\"+b.join("|\\")+")","g");d=d?d.replace(f,"\\$1").split(/\s+/):[];for(e=0;e<d.length;++e){g=d[e].replace;if(g.length>3){h=h.replace(new RegExp("(?:^|\\s+)"+g+"(?:\\s+)?","gi"),"...");if(h.length<=c){return h}}}return a.Lang.trim(h.substr(0,c-3)).replace(/\.+$/,"")+"..."},isVisible:function(b){if(!b||b.getComputedStyle("display")=="none"||b.getComputedStyle("visibility")=="hidden"){return false}return true}}},"1.0.0",{requires:["node"]});YUI.add("mmsearch-assist-plugin",function(d){var a="show",c="hide";function b(e){b.superclass.constructor.apply(this,arguments)}b.NAME="SearchAssistPlugin";b.NS="sap";b.ATTRS={closeNode:{value:"#sa-close",setter:d.one,writeOnce:"initOnly"},source:{value:null},align:{value:null},resultTemplate:{value:'<a href="{url}">{suggestion}</a>'},preventDef:{value:false}};d.extend(b,d.Plugin.Base,{initializer:function(){var e=this;e._inputNode=this.get("host");e._closeNode=this.get("closeNode");this._fetchAssets()},_fetchAssets:function(){if(location.protocol=="https:"){var e=["https://s.yimg.com/pv/static/lib/isyc_yui_3_autocomplete_201206060900.css","https://s.yimg.com/pv/static/lib/isyc_yui_3_autocomplete_201206060900.js"]}else{var e=["http://l.yimg.com/pv/static/lib/isyc_yui_3_autocomplete_201206060900.css","http://l.yimg.com/pv/static/lib/isyc_yui_3_autocomplete_201206060900.js"]}d.Get.load(e,{onSuccess:this._handleSuccess,onFailure:this._handleFailure,context:this})},_initAutoComplete:function(){var e=this;d.use("autocomplete",function(h){var f=e._inputNode.get("value");if(!h.Lang.trim(f)){f="x"}var g=new h.DataSource.Get({source:e.get("source")});g.plug(h.Plugin.DataSourceCache,{max:30});g.sendRequest({request:f,callback:{success:function(){e._bind(g)},failure:function(){}}})})},_bind:function(f){var e=this;e._inputNode.plug(d.Plugin.AutoComplete,{resultFormatter:e.resultFormatter,resultListLocator:e.resultListLocator,requestTemplate:"{query}&callback={callback}",source:f,align:e.get("align"),queryDelay:200,minQueryLength:1,activateFirstItem:false});e._ac=e._inputNode.ac;e._alignNode=d.one(e._ac.get("align").node);if(e.get("preventDef")){e._ac.on("select",function(g){g.preventDefault();this._inputNode.set("value",g.result.text)},this)}e._ac.set("resultTemplate",e.get("resultTemplate"));e._bindClose();e._bindFocus();e._bindResults()},_bindClose:function(){var e=this,f=e._closeNode;d.on("closeassist",function(){e._ac.fire("clear")},e);if(!d.instanceOf(f,d.Node)){return}f.on("click",function(g){g.stopPropagation();e._inputNode.set("value","").focus();e._ac.fire("clear")})},_bindFocus:function(){this._inputNode.on("focus",this._onFocus,this)},_onFocus:function(f){var e=f.target;if(d.Lang.trim(e.get("value"))){e.ac.fire("query")}},_bindResults:function(){var e=this;e._inputNode.ac.on("results",function(){var g=this,h=g.get("boundingBox"),f=e._alignNode;h.setStyle("width",f.getComputedStyle("width")).setStyle("zIndex",99);e.fire(a)});e._inputNode.ac.on("visibleChange",function(f){if(f.newVal){this.fire(a)}else{this.fire(c)}},this)},_bindClear:function(){var e=this;e._ac.on("clear",function(){e.fire(c)})},_handleSuccess:function(){this._initAutoComplete()},_handleFailure:function(){this._fetchAssets()},resultFormatter:function(f,e){var g=this,f=d.Lang.trim(f);return d.Array.map(e,function(h){var k=h.raw;var j=d.MMSearch.SurferUtil;var l=j.buildSearchUrl(g.get("inputNode"),k,"",{fr2:"sg-gac",sado:1});k=j.truncate(k,70,f);k=j.highlightAll(k,f);var m={url:l,suggestion:k};return d.Lang.sub(g.get("resultTemplate"),m)})},resultListLocator:function(e){return e[1]}});d.namespace("MMSearch").SearchAssistPlugin=b},"0.0.1",{requires:["node","base","event-base","event-mouseenter","event-outside","datasource-get","datasource-cache","plugin","surfer-util"]});YUI.add("idle-timer",function(g){var d=false,h=-1,b=false,f=g.config.doc,e=30000;function c(j){clearTimeout(h);if(b){if(/visibilitychange/.test(j.type)){a(f.hidden||f.msHidden||f.webkitHidden||f.mozHidden)}else{if(d){a()}}h=setTimeout(a,e)}}function a(j){var k=false;if(typeof j!="undefined"){if(j!=d){d=j;k=true}}else{d=!d;k=true}if(k){g.IdleTimer.fire(d?"idle":"active")}}g.IdleTimer={isRunning:function(){return b},isIdle:function(){return d},start:function(j){b=true;d=false;if(typeof j=="number"){e=j}g.on("mousemove",c,f);g.on("keydown",c,f);g.on("mousedown",c,f);if(f.addEventListener){f.addEventListener("msvisibilitychange",c,false);f.addEventListener("webkitvisibilitychange",c,false);f.addEventListener("mozvisibilitychange",c,false)}h=setTimeout(a,e)},stop:function(){b=false;clearTimeout(h);g.detach("mousemove",c,f);g.detach("keydown",c,f);g.detach("mousedown",c,f);if(f.removeEventListener){f.removeEventListener("msvisibilitychange",c,false);f.removeEventListener("webkitvisibilitychange",c,false);f.removeEventListener("mozvisibilitychange",c,false)}}};g.augment(g.IdleTimer,g.Event.Target)},"0.1",{requires:["event","event-custom"]});YUI.add("idle-timer-plugin",function(a){var g="nodes",d="durationActive",f="durationIdle",c="it_active",b="it_idle",h="timer",j;function e(k){e.superclass.constructor.apply(this,arguments)}e.NAME="IdlePlugin";e.NS="idle";e.ATTRS={timer:{value:2500},durationActive:{value:0.15},durationIdle:{value:0.75},nodes:{}};a.extend(e,a.Plugin.Base,{initializer:function(){j=this.get("host");a.IdleTimer.subscribe("active",this._onActive,this);a.IdleTimer.subscribe("idle",this._onIdle,this);a.IdleTimer.start(this.get(h))},destructor:function(){a.IdleTimer.stop()},_onActive:function(){var k=this.get(g);for(var l=0;l<k.length;l++){var m=k[l];m.node.transition(a.merge(m.active,{duration:this.get(d)}))}j.fire(c)},_onIdle:function(){var k=this.get(g);for(var l=0;l<k.length;l++){var m=k[l];m.node.transition(a.merge(m.idle,{duration:this.get(f)}))}j.fire(b)}});a.namespace("MMSearch").IdlePlugin=e},"0.0.1",{requires:["idle-timer","transition"]});YUI.add("fullscreen",function(c){var b=c.config.doc,a=c.Lang;c.FullScreen={EVT_FULLSCREENCHANGE:"",isActive:function(){return false},request:function(d){},cancel:function(){}};(function(){var d=["webkit","moz"],f="",e=false;if(!a.isUndefined(b.cancelFullScreen)||!a.isUndefined(b.exitFullScreen)){e=true}else{c.Array.each(d,function(g){if(!a.isUndefined(b[g+"CancelFullScreen"])){f=g;e=true}})}if(e){switch(f){case"moz":c.mix(c.FullScreen,{EVT_FULLSCREENCHANGE:"mozfullscreenchange",_attachEvents:function(){b.addEventListener(EVT_FULLSCREENCHANGE,c.bind(this._onChange,this),true)},request:function(g){g.mozRequestFullScreen()},cancel:function(){b.mozCancelFullScreen()},isActive:function(){return b.mozFullScreen}},true);break;case"webkit":c.mix(c.FullScreen,{EVT_FULLSCREENCHANGE:"webkitfullscreenchange",request:function(g){g.webkitRequestFullScreen()},cancel:function(){b.webkitCancelFullScreen()},isActive:function(){return b.webkitIsFullScreen}},true);break;default:c.mix(c.FullScreen,{EVT_FULLSCREENCHANGE:"fullscreenchange",request:function(g){g.requestFullScreen()},cancel:function(){b.exitFullscreen()},isActive:function(){return a.isUndefined(b.fullscreenEnabled)?b.fullScreen:b.fullscreenEnabled}},true);break}}}())},"1.0.0",{requires:["base"]});YUI.add("fullscreen-plugin",function(e){var c="fullscreen",d=e.config.doc,b=e.Lang;function a(f){a.superclass.constructor.apply(this,arguments)}a.NAME="fullScreenPlugin";a.NS="fullscreen";a.ATTRS={node:{value:e.one("body"),validator:e.one},activateNode:{validator:e.one},cancelNode:{validator:e.one},fullScreenActive:{value:false,validator:b.isBoolean}};e.extend(a,e.Plugin.Base,{initializer:function(f){if(e.FullScreen.EVT_FULLSCREENCHANGE){d.addEventListener(e.FullScreen.EVT_FULLSCREENCHANGE,e.bind(this._onStateChange,this),true)}else{this.get("node").on("key",this._onStateChange,"esc",this)}if(this.get("cancelNode")){this.get("activateNode").on("click",this.toggle,this,false);this.get("cancelNode").on("click",this.toggle,this,true)}else{this.get("activateNode").on("click",this.toggle,this)}},_onStateChange:function(){var f=e.FullScreen.isActive();if(f!=this.get("fullScreenActive")){this.set("fullScreenActive",f);this.sync()}},toggle:function(k,j){var h=this.get("node"),g=h.getDOMNode(),f=this.get("fullScreenActive");if(typeof j=="boolean"){f=j}if(!f){e.FullScreen.request(g)}else{e.FullScreen.cancel()}this.set("fullScreenActive",!f);this.sync()},sync:function(){var g=this.get("node"),f=this.get("fullScreenActive");if(f){g.addClass(c)}else{g.removeClass(c)}this.fire("fullScreenChange",{active:f})}});e.namespace("MMSearch").FullScreenPlugin=a},"0.0.1",{requires:["fullscreen","plugin","event-custom"]});